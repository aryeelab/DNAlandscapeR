<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>R6 and Reference class performance tests</title>


<style type="text/css">code{white-space: pre;}</style>
<link href="data:text/css;charset=utf-8,pre%20%2Eoperator%2C%0Apre%20%2Eparen%20%7B%0Acolor%3A%20rgb%28104%2C%20118%2C%20135%29%0A%7D%0Apre%20%2Eliteral%20%7B%0Acolor%3A%20%23990073%0A%7D%0Apre%20%2Enumber%20%7B%0Acolor%3A%20%23099%3B%0A%7D%0Apre%20%2Ecomment%20%7B%0Acolor%3A%20%23998%3B%0Afont%2Dstyle%3A%20italic%0A%7D%0Apre%20%2Ekeyword%20%7B%0Acolor%3A%20%23900%3B%0Afont%2Dweight%3A%20bold%0A%7D%0Apre%20%2Eidentifier%20%7B%0Acolor%3A%20rgb%280%2C%200%2C%200%29%3B%0A%7D%0Apre%20%2Estring%20%7B%0Acolor%3A%20%23d14%3B%0A%7D%0A" rel="stylesheet" type="text/css" />
<script src="data:application/x-javascript;base64,dmFyIGhsanM9bmV3IGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbShwKXtyZXR1cm4gcC5yZXBsYWNlKC8mL2dtLCImYW1wOyIpLnJlcGxhY2UoLzwvZ20sIiZsdDsiKX1mdW5jdGlvbiBmKHIscSxwKXtyZXR1cm4gUmVnRXhwKHEsIm0iKyhyLmNJPyJpIjoiIikrKHA/ImciOiIiKSl9ZnVuY3Rpb24gYihyKXtmb3IodmFyIHA9MDtwPHIuY2hpbGROb2Rlcy5sZW5ndGg7cCsrKXt2YXIgcT1yLmNoaWxkTm9kZXNbcF07aWYocS5ub2RlTmFtZT09IkNPREUiKXtyZXR1cm4gcX1pZighKHEubm9kZVR5cGU9PTMmJnEubm9kZVZhbHVlLm1hdGNoKC9ccysvKSkpe2JyZWFrfX19ZnVuY3Rpb24gaCh0LHMpe3ZhciBwPSIiO2Zvcih2YXIgcj0wO3I8dC5jaGlsZE5vZGVzLmxlbmd0aDtyKyspe2lmKHQuY2hpbGROb2Rlc1tyXS5ub2RlVHlwZT09Myl7dmFyIHE9dC5jaGlsZE5vZGVzW3JdLm5vZGVWYWx1ZTtpZihzKXtxPXEucmVwbGFjZSgvXG4vZywiIil9cCs9cX1lbHNle2lmKHQuY2hpbGROb2Rlc1tyXS5ub2RlTmFtZT09IkJSIil7cCs9IlxuIn1lbHNle3ArPWgodC5jaGlsZE5vZGVzW3JdKX19fWlmKC9NU0lFIFs2NzhdLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXtwPXAucmVwbGFjZSgvXHIvZywiXG4iKX1yZXR1cm4gcH1mdW5jdGlvbiBhKHMpe3ZhciByPXMuY2xhc3NOYW1lLnNwbGl0KC9ccysvKTtyPXIuY29uY2F0KHMucGFyZW50Tm9kZS5jbGFzc05hbWUuc3BsaXQoL1xzKy8pKTtmb3IodmFyIHE9MDtxPHIubGVuZ3RoO3ErKyl7dmFyIHA9cltxXS5yZXBsYWNlKC9ebGFuZ3VhZ2UtLywiIik7aWYoZVtwXSl7cmV0dXJuIHB9fX1mdW5jdGlvbiBjKHEpe3ZhciBwPVtdOyhmdW5jdGlvbihzLHQpe2Zvcih2YXIgcj0wO3I8cy5jaGlsZE5vZGVzLmxlbmd0aDtyKyspe2lmKHMuY2hpbGROb2Rlc1tyXS5ub2RlVHlwZT09Myl7dCs9cy5jaGlsZE5vZGVzW3JdLm5vZGVWYWx1ZS5sZW5ndGh9ZWxzZXtpZihzLmNoaWxkTm9kZXNbcl0ubm9kZU5hbWU9PSJCUiIpe3QrPTF9ZWxzZXtpZihzLmNoaWxkTm9kZXNbcl0ubm9kZVR5cGU9PTEpe3AucHVzaCh7ZXZlbnQ6InN0YXJ0IixvZmZzZXQ6dCxub2RlOnMuY2hpbGROb2Rlc1tyXX0pO3Q9YXJndW1lbnRzLmNhbGxlZShzLmNoaWxkTm9kZXNbcl0sdCk7cC5wdXNoKHtldmVudDoic3RvcCIsb2Zmc2V0OnQsbm9kZTpzLmNoaWxkTm9kZXNbcl19KX19fX1yZXR1cm4gdH0pKHEsMCk7cmV0dXJuIHB9ZnVuY3Rpb24gayh5LHcseCl7dmFyIHE9MDt2YXIgej0iIjt2YXIgcz1bXTtmdW5jdGlvbiB1KCl7aWYoeS5sZW5ndGgmJncubGVuZ3RoKXtpZih5WzBdLm9mZnNldCE9d1swXS5vZmZzZXQpe3JldHVybih5WzBdLm9mZnNldDx3WzBdLm9mZnNldCk/eTp3fWVsc2V7cmV0dXJuIHdbMF0uZXZlbnQ9PSJzdGFydCI/eTp3fX1lbHNle3JldHVybiB5Lmxlbmd0aD95Ond9fWZ1bmN0aW9uIHQoRCl7dmFyIEE9IjwiK0Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtmb3IodmFyIEI9MDtCPEQuYXR0cmlidXRlcy5sZW5ndGg7QisrKXt2YXIgQz1ELmF0dHJpYnV0ZXNbQl07QSs9IiAiK0Mubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihDLnZhbHVlIT09dW5kZWZpbmVkJiZDLnZhbHVlIT09ZmFsc2UmJkMudmFsdWUhPT1udWxsKXtBKz0nPSInK20oQy52YWx1ZSkrJyInfX1yZXR1cm4gQSsiPiJ9d2hpbGUoeS5sZW5ndGh8fHcubGVuZ3RoKXt2YXIgdj11KCkuc3BsaWNlKDAsMSlbMF07eis9bSh4LnN1YnN0cihxLHYub2Zmc2V0LXEpKTtxPXYub2Zmc2V0O2lmKHYuZXZlbnQ9PSJzdGFydCIpe3orPXQodi5ub2RlKTtzLnB1c2godi5ub2RlKX1lbHNle2lmKHYuZXZlbnQ9PSJzdG9wIil7dmFyIHAscj1zLmxlbmd0aDtkb3tyLS07cD1zW3JdO3orPSgiPC8iK3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKSsiPiIpfXdoaWxlKHAhPXYubm9kZSk7cy5zcGxpY2UociwxKTt3aGlsZShyPHMubGVuZ3RoKXt6Kz10KHNbcl0pO3IrK319fX1yZXR1cm4geittKHguc3Vic3RyKHEpKX1mdW5jdGlvbiBqKCl7ZnVuY3Rpb24gcSh4LHksdil7aWYoeC5jb21waWxlZCl7cmV0dXJufXZhciB1O3ZhciBzPVtdO2lmKHguayl7eC5sUj1mKHkseC5sfHxobGpzLklSLHRydWUpO2Zvcih2YXIgdyBpbiB4Lmspe2lmKCF4LmsuaGFzT3duUHJvcGVydHkodykpe2NvbnRpbnVlfWlmKHgua1t3XSBpbnN0YW5jZW9mIE9iamVjdCl7dT14Lmtbd119ZWxzZXt1PXguazt3PSJrZXl3b3JkIn1mb3IodmFyIHIgaW4gdSl7aWYoIXUuaGFzT3duUHJvcGVydHkocikpe2NvbnRpbnVlfXgua1tyXT1bdyx1W3JdXTtzLnB1c2gocil9fX1pZighdil7aWYoeC5iV0spe3guYj0iXFxiKCIrcy5qb2luKCJ8IikrIilcXHMifXguYlI9Zih5LHguYj94LmI6IlxcQnxcXGIiKTtpZigheC5lJiYheC5lVyl7eC5lPSJcXEJ8XFxiIn1pZih4LmUpe3guZVI9Zih5LHguZSl9fWlmKHguaSl7eC5pUj1mKHkseC5pKX1pZih4LnI9PT11bmRlZmluZWQpe3gucj0xfWlmKCF4LmMpe3guYz1bXX14LmNvbXBpbGVkPXRydWU7Zm9yKHZhciB0PTA7dDx4LmMubGVuZ3RoO3QrKyl7aWYoeC5jW3RdPT0ic2VsZiIpe3guY1t0XT14fXEoeC5jW3RdLHksZmFsc2UpfWlmKHguc3RhcnRzKXtxKHguc3RhcnRzLHksZmFsc2UpfX1mb3IodmFyIHAgaW4gZSl7aWYoIWUuaGFzT3duUHJvcGVydHkocCkpe2NvbnRpbnVlfXEoZVtwXS5kTSxlW3BdLHRydWUpfX1mdW5jdGlvbiBkKEIsQyl7aWYoIWouY2FsbGVkKXtqKCk7ai5jYWxsZWQ9dHJ1ZX1mdW5jdGlvbiBxKHIsTSl7Zm9yKHZhciBMPTA7TDxNLmMubGVuZ3RoO0wrKyl7aWYoKE0uY1tMXS5iUi5leGVjKHIpfHxbbnVsbF0pWzBdPT1yKXtyZXR1cm4gTS5jW0xdfX19ZnVuY3Rpb24gdihMLHIpe2lmKERbTF0uZSYmRFtMXS5lUi50ZXN0KHIpKXtyZXR1cm4gMX1pZihEW0xdLmVXKXt2YXIgTT12KEwtMSxyKTtyZXR1cm4gTT9NKzE6MH1yZXR1cm4gMH1mdW5jdGlvbiB3KHIsTCl7cmV0dXJuIEwuaSYmTC5pUi50ZXN0KHIpfWZ1bmN0aW9uIEsoTixPKXt2YXIgTT1bXTtmb3IodmFyIEw9MDtMPE4uYy5sZW5ndGg7TCsrKXtNLnB1c2goTi5jW0xdLmIpfXZhciByPUQubGVuZ3RoLTE7ZG97aWYoRFtyXS5lKXtNLnB1c2goRFtyXS5lKX1yLS19d2hpbGUoRFtyKzFdLmVXKTtpZihOLmkpe00ucHVzaChOLmkpfXJldHVybiBmKE8sTS5qb2luKCJ8IiksdHJ1ZSl9ZnVuY3Rpb24gcChNLEwpe3ZhciBOPURbRC5sZW5ndGgtMV07aWYoIU4udCl7Ti50PUsoTixFKX1OLnQubGFzdEluZGV4PUw7dmFyIHI9Ti50LmV4ZWMoTSk7cmV0dXJuIHI/W00uc3Vic3RyKEwsci5pbmRleC1MKSxyWzBdLGZhbHNlXTpbTS5zdWJzdHIoTCksIiIsdHJ1ZV19ZnVuY3Rpb24geihOLHIpe3ZhciBMPUUuY0k/clswXS50b0xvd2VyQ2FzZSgpOnJbMF07dmFyIE09Ti5rW0xdO2lmKE0mJk0gaW5zdGFuY2VvZiBBcnJheSl7cmV0dXJuIE19cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIEYoTCxQKXtMPW0oTCk7aWYoIVAuayl7cmV0dXJuIEx9dmFyIHI9IiI7dmFyIE89MDtQLmxSLmxhc3RJbmRleD0wO3ZhciBNPVAubFIuZXhlYyhMKTt3aGlsZShNKXtyKz1MLnN1YnN0cihPLE0uaW5kZXgtTyk7dmFyIE49eihQLE0pO2lmKE4pe3grPU5bMV07cis9JzxzcGFuIGNsYXNzPSInK05bMF0rJyI+JytNWzBdKyI8L3NwYW4+In1lbHNle3IrPU1bMF19Tz1QLmxSLmxhc3RJbmRleDtNPVAubFIuZXhlYyhMKX1yZXR1cm4gcitMLnN1YnN0cihPLEwubGVuZ3RoLU8pfWZ1bmN0aW9uIEooTCxNKXtpZihNLnNMJiZlW00uc0xdKXt2YXIgcj1kKE0uc0wsTCk7eCs9ci5rZXl3b3JkX2NvdW50O3JldHVybiByLnZhbHVlfWVsc2V7cmV0dXJuIEYoTCxNKX19ZnVuY3Rpb24gSShNLHIpe3ZhciBMPU0uY04/JzxzcGFuIGNsYXNzPSInK00uY04rJyI+JzoiIjtpZihNLnJCKXt5Kz1MO00uYnVmZmVyPSIifWVsc2V7aWYoTS5lQil7eSs9bShyKStMO00uYnVmZmVyPSIifWVsc2V7eSs9TDtNLmJ1ZmZlcj1yfX1ELnB1c2goTSk7QSs9TS5yfWZ1bmN0aW9uIEcoTixNLFEpe3ZhciBSPURbRC5sZW5ndGgtMV07aWYoUSl7eSs9SihSLmJ1ZmZlcitOLFIpO3JldHVybiBmYWxzZX12YXIgUD1xKE0sUik7aWYoUCl7eSs9SihSLmJ1ZmZlcitOLFIpO0koUCxNKTtyZXR1cm4gUC5yQn12YXIgTD12KEQubGVuZ3RoLTEsTSk7aWYoTCl7dmFyIE89Ui5jTj8iPC9zcGFuPiI6IiI7aWYoUi5yRSl7eSs9SihSLmJ1ZmZlcitOLFIpK099ZWxzZXtpZihSLmVFKXt5Kz1KKFIuYnVmZmVyK04sUikrTyttKE0pfWVsc2V7eSs9SihSLmJ1ZmZlcitOK00sUikrT319d2hpbGUoTD4xKXtPPURbRC5sZW5ndGgtMl0uY04/Ijwvc3Bhbj4iOiIiO3krPU87TC0tO0QubGVuZ3RoLS19dmFyIHI9RFtELmxlbmd0aC0xXTtELmxlbmd0aC0tO0RbRC5sZW5ndGgtMV0uYnVmZmVyPSIiO2lmKHIuc3RhcnRzKXtJKHIuc3RhcnRzLCIiKX1yZXR1cm4gUi5yRX1pZih3KE0sUikpe3Rocm93IklsbGVnYWwifX12YXIgRT1lW0JdO3ZhciBEPVtFLmRNXTt2YXIgQT0wO3ZhciB4PTA7dmFyIHk9IiI7dHJ5e3ZhciBzLHU9MDtFLmRNLmJ1ZmZlcj0iIjtkb3tzPXAoQyx1KTt2YXIgdD1HKHNbMF0sc1sxXSxzWzJdKTt1Kz1zWzBdLmxlbmd0aDtpZighdCl7dSs9c1sxXS5sZW5ndGh9fXdoaWxlKCFzWzJdKTtpZihELmxlbmd0aD4xKXt0aHJvdyJJbGxlZ2FsIn1yZXR1cm57cjpBLGtleXdvcmRfY291bnQ6eCx2YWx1ZTp5fX1jYXRjaChIKXtpZihIPT0iSWxsZWdhbCIpe3JldHVybntyOjAsa2V5d29yZF9jb3VudDowLHZhbHVlOm0oQyl9fWVsc2V7dGhyb3cgSH19fWZ1bmN0aW9uIGcodCl7dmFyIHA9e2tleXdvcmRfY291bnQ6MCxyOjAsdmFsdWU6bSh0KX07dmFyIHI9cDtmb3IodmFyIHEgaW4gZSl7aWYoIWUuaGFzT3duUHJvcGVydHkocSkpe2NvbnRpbnVlfXZhciBzPWQocSx0KTtzLmxhbmd1YWdlPXE7aWYocy5rZXl3b3JkX2NvdW50K3Mucj5yLmtleXdvcmRfY291bnQrci5yKXtyPXN9aWYocy5rZXl3b3JkX2NvdW50K3Mucj5wLmtleXdvcmRfY291bnQrcC5yKXtyPXA7cD1zfX1pZihyLmxhbmd1YWdlKXtwLnNlY29uZF9iZXN0PXJ9cmV0dXJuIHB9ZnVuY3Rpb24gaShyLHEscCl7aWYocSl7cj1yLnJlcGxhY2UoL14oKDxbXj5dKz58XHQpKykvZ20sZnVuY3Rpb24odCx3LHYsdSl7cmV0dXJuIHcucmVwbGFjZSgvXHQvZyxxKX0pfWlmKHApe3I9ci5yZXBsYWNlKC9cbi9nLCI8YnI+Iil9cmV0dXJuIHJ9ZnVuY3Rpb24gbih0LHcscil7dmFyIHg9aCh0LHIpO3ZhciB2PWEodCk7dmFyIHkscztpZih2KXt5PWQodix4KX1lbHNle3JldHVybn12YXIgcT1jKHQpO2lmKHEubGVuZ3RoKXtzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInByZSIpO3MuaW5uZXJIVE1MPXkudmFsdWU7eS52YWx1ZT1rKHEsYyhzKSx4KX15LnZhbHVlPWkoeS52YWx1ZSx3LHIpO3ZhciB1PXQuY2xhc3NOYW1lO2lmKCF1Lm1hdGNoKCIoXFxzfF4pKGxhbmd1YWdlLSk/Iit2KyIoXFxzfCQpIikpe3U9dT8odSsiICIrdik6dn1pZigvTVNJRSBbNjc4XS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmdC50YWdOYW1lPT0iQ09ERSImJnQucGFyZW50Tm9kZS50YWdOYW1lPT0iUFJFIil7cz10LnBhcmVudE5vZGU7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cC5pbm5lckhUTUw9IjxwcmU+PGNvZGU+Iit5LnZhbHVlKyI8L2NvZGU+PC9wcmU+Ijt0PXAuZmlyc3RDaGlsZC5maXJzdENoaWxkO3AuZmlyc3RDaGlsZC5jTj1zLmNOO3MucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQocC5maXJzdENoaWxkLHMpfWVsc2V7dC5pbm5lckhUTUw9eS52YWx1ZX10LmNsYXNzTmFtZT11O3QucmVzdWx0PXtsYW5ndWFnZTp2LGt3Onkua2V5d29yZF9jb3VudCxyZTp5LnJ9O2lmKHkuc2Vjb25kX2Jlc3Qpe3Quc2Vjb25kX2Jlc3Q9e2xhbmd1YWdlOnkuc2Vjb25kX2Jlc3QubGFuZ3VhZ2Usa3c6eS5zZWNvbmRfYmVzdC5rZXl3b3JkX2NvdW50LHJlOnkuc2Vjb25kX2Jlc3Qucn19fWZ1bmN0aW9uIG8oKXtpZihvLmNhbGxlZCl7cmV0dXJufW8uY2FsbGVkPXRydWU7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInByZSIpO2Zvcih2YXIgcD0wO3A8ci5sZW5ndGg7cCsrKXt2YXIgcT1iKHJbcF0pO2lmKHEpe24ocSxobGpzLnRhYlJlcGxhY2UpfX19ZnVuY3Rpb24gbCgpe2lmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsbyxmYWxzZSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLG8sZmFsc2UpfWVsc2V7aWYod2luZG93LmF0dGFjaEV2ZW50KXt3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsbyl9ZWxzZXt3aW5kb3cub25sb2FkPW99fX12YXIgZT17fTt0aGlzLkxBTkdVQUdFUz1lO3RoaXMuaGlnaGxpZ2h0PWQ7dGhpcy5oaWdobGlnaHRBdXRvPWc7dGhpcy5maXhNYXJrdXA9aTt0aGlzLmhpZ2hsaWdodEJsb2NrPW47dGhpcy5pbml0SGlnaGxpZ2h0aW5nPW87dGhpcy5pbml0SGlnaGxpZ2h0aW5nT25Mb2FkPWw7dGhpcy5JUj0iW2EtekEtWl1bYS16QS1aMC05X10qIjt0aGlzLlVJUj0iW2EtekEtWl9dW2EtekEtWjAtOV9dKiI7dGhpcy5OUj0iXFxiXFxkKyhcXC5cXGQrKT8iO3RoaXMuQ05SPSJcXGIoMFt4WF1bYS1mQS1GMC05XSt8KFxcZCsoXFwuXFxkKik/fFxcLlxcZCspKFtlRV1bLStdP1xcZCspPykiO3RoaXMuQk5SPSJcXGIoMGJbMDFdKykiO3RoaXMuUlNSPSIhfCE9fCE9PXwlfCU9fCZ8JiZ8Jj18XFwqfFxcKj18XFwrfFxcKz18LHxcXC58LXwtPXwvfC89fDp8O3w8fDw8fDw8PXw8PXw9fD09fD09PXw+fD49fD4+fD4+PXw+Pj58Pj4+PXxcXD98XFxbfFxce3xcXCh8XFxefFxcXj18XFx8fFxcfD18XFx8XFx8fH4iO3RoaXMuRVI9Iig/IVtcXHNcXFNdKSI7dGhpcy5CRT17YjoiXFxcXC4iLHI6MH07dGhpcy5BU009e2NOOiJzdHJpbmciLGI6IiciLGU6IiciLGk6IlxcbiIsYzpbdGhpcy5CRV0scjowfTt0aGlzLlFTTT17Y046InN0cmluZyIsYjonIicsZTonIicsaToiXFxuIixjOlt0aGlzLkJFXSxyOjB9O3RoaXMuQ0xDTT17Y046ImNvbW1lbnQiLGI6Ii8vIixlOiIkIn07dGhpcy5DQkxDTE09e2NOOiJjb21tZW50IixiOiIvXFwqIixlOiJcXCovIn07dGhpcy5IQ009e2NOOiJjb21tZW50IixiOiIjIixlOiIkIn07dGhpcy5OTT17Y046Im51bWJlciIsYjp0aGlzLk5SLHI6MH07dGhpcy5DTk09e2NOOiJudW1iZXIiLGI6dGhpcy5DTlIscjowfTt0aGlzLkJOTT17Y046Im51bWJlciIsYjp0aGlzLkJOUixyOjB9O3RoaXMuaW5oZXJpdD1mdW5jdGlvbihyLHMpe3ZhciBwPXt9O2Zvcih2YXIgcSBpbiByKXtwW3FdPXJbcV19aWYocyl7Zm9yKHZhciBxIGluIHMpe3BbcV09c1txXX19cmV0dXJuIHB9fSgpO2hsanMuTEFOR1VBR0VTLmJhc2g9ZnVuY3Rpb24oKXt2YXIgZT17InRydWUiOjEsImZhbHNlIjoxfTt2YXIgYj17Y046InZhcmlhYmxlIixiOiJcXCQoW2EtekEtWjAtOV9dKylcXGIifTt2YXIgYT17Y046InZhcmlhYmxlIixiOiJcXCRcXHsoKFtefV0pfChcXFxcfSkpK1xcfSIsYzpbaGxqcy5DTk1dfTt2YXIgZj17Y046InN0cmluZyIsYjonIicsZTonIicsaToiXFxuIixjOltobGpzLkJFLGIsYV0scjowfTt2YXIgYz17Y046InN0cmluZyIsYjoiJyIsZToiJyIsYzpbe2I6IicnIn1dLHI6MH07dmFyIGQ9e2NOOiJ0ZXN0X2NvbmRpdGlvbiIsYjoiIixlOiIiLGM6W2YsYyxiLGEsaGxqcy5DTk1dLGs6e2xpdGVyYWw6ZX0scjowfTtyZXR1cm57ZE06e2s6e2tleXdvcmQ6eyJpZiI6MSx0aGVuOjEsImVsc2UiOjEsZmk6MSwiZm9yIjoxLCJicmVhayI6MSwiY29udGludWUiOjEsIndoaWxlIjoxLCJpbiI6MSwiZG8iOjEsZG9uZToxLGVjaG86MSxleGl0OjEsInJldHVybiI6MSxzZXQ6MSxkZWNsYXJlOjF9LGxpdGVyYWw6ZX0sYzpbe2NOOiJzaGViYW5nIixiOiIoIyFcXC9iaW5cXC9iYXNoKXwoIyFcXC9iaW5cXC9zaCkiLHI6MTB9LGIsYSxobGpzLkhDTSxobGpzLkNOTSxmLGMsaGxqcy5pbmhlcml0KGQse2I6IlxcWyAiLGU6IiBcXF0iLHI6MH0pLGhsanMuaW5oZXJpdChkLHtiOiJcXFtcXFsgIixlOiIgXFxdXFxdIn0pXX19fSgpO2hsanMuTEFOR1VBR0VTLmNwcD1mdW5jdGlvbigpe3ZhciBhPXtrZXl3b3JkOnsiZmFsc2UiOjEsImludCI6MSwiZmxvYXQiOjEsIndoaWxlIjoxLCJwcml2YXRlIjoxLCJjaGFyIjoxLCJjYXRjaCI6MSwiZXhwb3J0IjoxLHZpcnR1YWw6MSxvcGVyYXRvcjoyLHNpemVvZjoyLGR5bmFtaWNfY2FzdDoyLHR5cGVkZWY6Mixjb25zdF9jYXN0OjIsImNvbnN0IjoxLHN0cnVjdDoxLCJmb3IiOjEsc3RhdGljX2Nhc3Q6Mix1bmlvbjoxLG5hbWVzcGFjZToxLHVuc2lnbmVkOjEsImxvbmciOjEsInRocm93IjoxLCJ2b2xhdGlsZSI6Miwic3RhdGljIjoxLCJwcm90ZWN0ZWQiOjEsYm9vbDoxLHRlbXBsYXRlOjEsbXV0YWJsZToxLCJpZiI6MSwicHVibGljIjoxLGZyaWVuZDoyLCJkbyI6MSwicmV0dXJuIjoxLCJnb3RvIjoxLGF1dG86MSwidm9pZCI6MiwiZW51bSI6MSwiZWxzZSI6MSwiYnJlYWsiOjEsIm5ldyI6MSxleHRlcm46MSx1c2luZzoxLCJ0cnVlIjoxLCJjbGFzcyI6MSxhc206MSwiY2FzZSI6MSx0eXBlaWQ6MSwic2hvcnQiOjEscmVpbnRlcnByZXRfY2FzdDoyLCJkZWZhdWx0IjoxLCJkb3VibGUiOjEscmVnaXN0ZXI6MSxleHBsaWNpdDoxLHNpZ25lZDoxLHR5cGVuYW1lOjEsInRyeSI6MSwidGhpcyI6MSwic3dpdGNoIjoxLCJjb250aW51ZSI6MSx3Y2hhcl90OjEsaW5saW5lOjEsImRlbGV0ZSI6MSxhbGlnbm9mOjEsY2hhcjE2X3Q6MSxjaGFyMzJfdDoxLGNvbnN0ZXhwcjoxLGRlY2x0eXBlOjEsbm9leGNlcHQ6MSxudWxscHRyOjEsc3RhdGljX2Fzc2VydDoxLHRocmVhZF9sb2NhbDoxLHJlc3RyaWN0OjEsX0Jvb2w6MSxjb21wbGV4OjF9LGJ1aWx0X2luOntzdGQ6MSxzdHJpbmc6MSxjaW46MSxjb3V0OjEsY2VycjoxLGNsb2c6MSxzdHJpbmdzdHJlYW06MSxpc3RyaW5nc3RyZWFtOjEsb3N0cmluZ3N0cmVhbToxLGF1dG9fcHRyOjEsZGVxdWU6MSxsaXN0OjEscXVldWU6MSxzdGFjazoxLHZlY3RvcjoxLG1hcDoxLHNldDoxLGJpdHNldDoxLG11bHRpc2V0OjEsbXVsdGltYXA6MSx1bm9yZGVyZWRfc2V0OjEsdW5vcmRlcmVkX21hcDoxLHVub3JkZXJlZF9tdWx0aXNldDoxLHVub3JkZXJlZF9tdWx0aW1hcDoxLGFycmF5OjEsc2hhcmVkX3B0cjoxfX07cmV0dXJue2RNOntrOmEsaToiPC8iLGM6W2hsanMuQ0xDTSxobGpzLkNCTENMTSxobGpzLlFTTSx7Y046InN0cmluZyIsYjoiJ1xcXFw/LiIsZToiJyIsaToiLiJ9LHtjTjoibnVtYmVyIixiOiJcXGIoXFxkKyhcXC5cXGQqKT98XFwuXFxkKykodXxVfGx8THx1bHxVTHxmfEYpIn0saGxqcy5DTk0se2NOOiJwcmVwcm9jZXNzb3IiLGI6IiMiLGU6IiQifSx7Y046InN0bF9jb250YWluZXIiLGI6IlxcYihkZXF1ZXxsaXN0fHF1ZXVlfHN0YWNrfHZlY3RvcnxtYXB8c2V0fGJpdHNldHxtdWx0aXNldHxtdWx0aW1hcHx1bm9yZGVyZWRfbWFwfHVub3JkZXJlZF9zZXR8dW5vcmRlcmVkX211bHRpc2V0fHVub3JkZXJlZF9tdWx0aW1hcHxhcnJheSlcXHMqPCIsZToiPiIsazphLHI6MTAsYzpbInNlbGYiXX1dfX19KCk7aGxqcy5MQU5HVUFHRVMuY3NzPWZ1bmN0aW9uKCl7dmFyIGE9e2NOOiJmdW5jdGlvbiIsYjpobGpzLklSKyJcXCgiLGU6IlxcKSIsYzpbe2VXOnRydWUsZUU6dHJ1ZSxjOltobGpzLk5NLGhsanMuQVNNLGhsanMuUVNNXX1dfTtyZXR1cm57Y0k6dHJ1ZSxkTTp7aToiWz0vfCddIixjOltobGpzLkNCTENMTSx7Y046ImlkIixiOiJcXCNbQS1aYS16MC05Xy1dKyJ9LHtjTjoiY2xhc3MiLGI6IlxcLltBLVphLXowLTlfLV0rIixyOjB9LHtjTjoiYXR0cl9zZWxlY3RvciIsYjoiXFxbIixlOiJcXF0iLGk6IiQifSx7Y046InBzZXVkbyIsYjoiOig6KT9bYS16QS1aMC05XFxfXFwtXFwrXFwoXFwpXFxcIlxcJ10rIn0se2NOOiJhdF9ydWxlIixiOiJAKGZvbnQtZmFjZXxwYWdlKSIsbDoiW2Etei1dKyIsazp7ImZvbnQtZmFjZSI6MSxwYWdlOjF9fSx7Y046ImF0X3J1bGUiLGI6IkAiLGU6Ilt7O10iLGVFOnRydWUsazp7ImltcG9ydCI6MSxwYWdlOjEsbWVkaWE6MSxjaGFyc2V0OjF9LGM6W2EsaGxqcy5BU00saGxqcy5RU00saGxqcy5OTV19LHtjTjoidGFnIixiOmhsanMuSVIscjowfSx7Y046InJ1bGVzIixiOiJ7IixlOiJ9IixpOiJbXlxcc10iLHI6MCxjOltobGpzLkNCTENMTSx7Y046InJ1bGUiLGI6IlteXFxzXSIsckI6dHJ1ZSxlOiI7IixlVzp0cnVlLGM6W3tjTjoiYXR0cmlidXRlIixiOiJbQS1aXFxfXFwuXFwtXSsiLGU6IjoiLGVFOnRydWUsaToiW15cXHNdIixzdGFydHM6e2NOOiJ2YWx1ZSIsZVc6dHJ1ZSxlRTp0cnVlLGM6W2EsaGxqcy5OTSxobGpzLlFTTSxobGpzLkFTTSxobGpzLkNCTENMTSx7Y046ImhleGNvbG9yIixiOiJcXCNbMC05QS1GXSsifSx7Y046ImltcG9ydGFudCIsYjoiIWltcG9ydGFudCJ9XX19XX1dfV19fX0oKTtobGpzLkxBTkdVQUdFUy5pbmk9e2NJOnRydWUsZE06e2k6IlteXFxzXSIsYzpbe2NOOiJjb21tZW50IixiOiI7IixlOiIkIn0se2NOOiJ0aXRsZSIsYjoiXlxcWyIsZToiXFxdIn0se2NOOiJzZXR0aW5nIixiOiJeW2EtejAtOV9cXFtcXF1dK1sgXFx0XSo9WyBcXHRdKiIsZToiJCIsYzpbe2NOOiJ2YWx1ZSIsZVc6dHJ1ZSxrOntvbjoxLG9mZjoxLCJ0cnVlIjoxLCJmYWxzZSI6MSx5ZXM6MSxubzoxfSxjOltobGpzLlFTTSxobGpzLk5NXX1dfV19fTtobGpzLkxBTkdVQUdFUy5wZXJsPWZ1bmN0aW9uKCl7dmFyIGQ9e2dldHB3ZW50OjEsZ2V0c2VydmVudDoxLHF1b3RlbWV0YToxLG1zZ3JjdjoxLHNjYWxhcjoxLGtpbGw6MSxkYm1jbG9zZToxLHVuZGVmOjEsbGM6MSxtYToxLHN5c3dyaXRlOjEsdHI6MSxzZW5kOjEsdW1hc2s6MSxzeXNvcGVuOjEsc2htd3JpdGU6MSx2ZWM6MSxxeDoxLHV0aW1lOjEsbG9jYWw6MSxvY3Q6MSxzZW1jdGw6MSxsb2NhbHRpbWU6MSxyZWFkcGlwZToxLCJkbyI6MSwicmV0dXJuIjoxLGZvcm1hdDoxLHJlYWQ6MSxzcHJpbnRmOjEsZGJtb3BlbjoxLHBvcDoxLGdldHBncnA6MSxub3Q6MSxnZXRwd25hbToxLHJld2luZGRpcjoxLHFxOjEsZmlsZW5vOjEscXc6MSxlbmRwcm90b2VudDoxLHdhaXQ6MSxzZXRob3N0ZW50OjEsYmxlc3M6MSxzOjAsb3BlbmRpcjoxLCJjb250aW51ZSI6MSxlYWNoOjEsc2xlZXA6MSxlbmRncmVudDoxLHNodXRkb3duOjEsZHVtcDoxLGNob21wOjEsY29ubmVjdDoxLGdldHNvY2tuYW1lOjEsZGllOjEsc29ja2V0cGFpcjoxLGNsb3NlOjEsZmxvY2s6MSxleGlzdHM6MSxpbmRleDoxLHNobWdldDoxLHN1YjoxLCJmb3IiOjEsZW5kcHdlbnQ6MSxyZWRvOjEsbHN0YXQ6MSxtc2djdGw6MSxzZXRwZ3JwOjEsYWJzOjEsZXhpdDoxLHNlbGVjdDoxLHByaW50OjEscmVmOjEsZ2V0aG9zdGJ5YWRkcjoxLHVuc2hpZnQ6MSxmY250bDoxLHN5c2NhbGw6MSwiZ290byI6MSxnZXRuZXRieWFkZHI6MSxqb2luOjEsZ210aW1lOjEsc3ltbGluazoxLHNlbWdldDoxLHNwbGljZToxLHg6MCxnZXRwZWVybmFtZToxLHJlY3Y6MSxsb2c6MSxzZXRzb2Nrb3B0OjEsY29zOjEsbGFzdDoxLHJldmVyc2U6MSxnZXRob3N0YnluYW1lOjEsZ2V0Z3JuYW06MSxzdHVkeToxLGZvcm1saW5lOjEsZW5kaG9zdGVudDoxLHRpbWVzOjEsY2hvcDoxLGxlbmd0aDoxLGdldGhvc3RlbnQ6MSxnZXRuZXRlbnQ6MSxwYWNrOjEsZ2V0cHJvdG9lbnQ6MSxnZXRzZXJ2YnluYW1lOjEscmFuZDoxLG1rZGlyOjEscG9zOjEsY2htb2Q6MSx5OjAsc3Vic3RyOjEsZW5kbmV0ZW50OjEscHJpbnRmOjEsbmV4dDoxLG9wZW46MSxtc2dzbmQ6MSxyZWFkZGlyOjEsdXNlOjEsdW5saW5rOjEsZ2V0c29ja29wdDoxLGdldHByaW9yaXR5OjEscmluZGV4OjEsd2FudGFycmF5OjEsaGV4OjEsc3lzdGVtOjEsZ2V0c2VydmJ5cG9ydDoxLGVuZHNlcnZlbnQ6MSwiaW50IjoxLGNocjoxLHVudGllOjEscm1kaXI6MSxwcm90b3R5cGU6MSx0ZWxsOjEsbGlzdGVuOjEsZm9yazoxLHNobXJlYWQ6MSx1Y2ZpcnN0OjEsc2V0cHJvdG9lbnQ6MSwiZWxzZSI6MSxzeXNzZWVrOjEsbGluazoxLGdldGdyZ2lkOjEsc2htY3RsOjEsd2FpdHBpZDoxLHVucGFjazoxLGdldG5ldGJ5bmFtZToxLHJlc2V0OjEsY2hkaXI6MSxncmVwOjEsc3BsaXQ6MSxyZXF1aXJlOjEsY2FsbGVyOjEsbGNmaXJzdDoxLHVudGlsOjEsd2FybjoxLCJ3aGlsZSI6MSx2YWx1ZXM6MSxzaGlmdDoxLHRlbGxkaXI6MSxnZXRwd3VpZDoxLG15OjEsZ2V0cHJvdG9ieW51bWJlcjoxLCJkZWxldGUiOjEsYW5kOjEsc29ydDoxLHVjOjEsZGVmaW5lZDoxLHNyYW5kOjEsYWNjZXB0OjEsInBhY2thZ2UiOjEsc2Vla2RpcjoxLGdldHByb3RvYnluYW1lOjEsc2Vtb3A6MSxvdXI6MSxyZW5hbWU6MSxzZWVrOjEsImlmIjoxLHE6MCxjaHJvb3Q6MSxzeXNyZWFkOjEsc2V0cHdlbnQ6MSxubzoxLGNyeXB0OjEsZ2V0YzoxLGNob3duOjEsc3FydDoxLHdyaXRlOjEsc2V0bmV0ZW50OjEsc2V0cHJpb3JpdHk6MSxmb3JlYWNoOjEsdGllOjEsc2luOjEsbXNnZ2V0OjEsbWFwOjEsc3RhdDoxLGdldGxvZ2luOjEsdW5sZXNzOjEsZWxzaWY6MSx0cnVuY2F0ZToxLGV4ZWM6MSxrZXlzOjEsZ2xvYjoxLHRpZWQ6MSxjbG9zZWRpcjoxLGlvY3RsOjEsc29ja2V0OjEscmVhZGxpbms6MSwiZXZhbCI6MSx4b3I6MSxyZWFkbGluZToxLGJpbm1vZGU6MSxzZXRzZXJ2ZW50OjEsZW9mOjEsb3JkOjEsYmluZDoxLGFsYXJtOjEscGlwZToxLGF0YW4yOjEsZ2V0Z3JlbnQ6MSxleHA6MSx0aW1lOjEscHVzaDoxLHNldGdyZW50OjEsZ3Q6MSxsdDoxLG9yOjEsbmU6MSxtOjB9O3ZhciBmPXtjTjoic3Vic3QiLGI6IlskQF1cXHsiLGU6IlxcfSIsazpkLHI6MTB9O3ZhciBjPXtjTjoidmFyaWFibGUiLGI6IlxcJFxcZCJ9O3ZhciBiPXtjTjoidmFyaWFibGUiLGI6IltcXCRcXCVcXEBcXCpdKFxcXlxcd1xcYnwjXFx3KyhcXDpcXDpcXHcrKSp8W15cXHNcXHd7XXx7XFx3K318XFx3KyhcXDpcXDpcXHcqKSopIn07dmFyIGg9W2hsanMuQkUsZixjLGJdO3ZhciBnPXtiOiItPiIsYzpbe2I6aGxqcy5JUn0se2I6InsiLGU6In0ifV19O3ZhciBlPXtjTjoiY29tbWVudCIsYjoiXihfX0VORF9ffF9fREFUQV9fKSIsZToiXFxuJCIscjo1fTt2YXIgYT1bYyxiLGhsanMuSENNLGUsZyx7Y046InN0cmluZyIsYjoicVtxd3hyXT9cXHMqXFwoIixlOiJcXCkiLGM6aCxyOjV9LHtjTjoic3RyaW5nIixiOiJxW3F3eHJdP1xccypcXFsiLGU6IlxcXSIsYzpoLHI6NX0se2NOOiJzdHJpbmciLGI6InFbcXd4cl0/XFxzKlxceyIsZToiXFx9IixjOmgscjo1fSx7Y046InN0cmluZyIsYjoicVtxd3hyXT9cXHMqXFx8IixlOiJcXHwiLGM6aCxyOjV9LHtjTjoic3RyaW5nIixiOiJxW3F3eHJdP1xccypcXDwiLGU6IlxcPiIsYzpoLHI6NX0se2NOOiJzdHJpbmciLGI6InF3XFxzK3EiLGU6InEiLGM6aCxyOjV9LHtjTjoic3RyaW5nIixiOiInIixlOiInIixjOltobGpzLkJFXSxyOjB9LHtjTjoic3RyaW5nIixiOiciJyxlOiciJyxjOmgscjowfSx7Y046InN0cmluZyIsYjoiYCIsZToiYCIsYzpbaGxqcy5CRV19LHtjTjoic3RyaW5nIixiOiJ7XFx3K30iLHI6MH0se2NOOiJzdHJpbmciLGI6Ii0/XFx3K1xccypcXD1cXD4iLHI6MH0se2NOOiJudW1iZXIiLGI6IihcXGIwWzAtN19dKyl8KFxcYjB4WzAtOWEtZkEtRl9dKyl8KFxcYlsxLTldWzAtOV9dKihcXC5bMC05X10rKT8pfFswX11cXGIiLHI6MH0se2I6IigiK2hsanMuUlNSKyJ8XFxiKHNwbGl0fHJldHVybnxwcmludHxyZXZlcnNlfGdyZXApXFxiKVxccyoiLGs6e3NwbGl0OjEsInJldHVybiI6MSxwcmludDoxLHJldmVyc2U6MSxncmVwOjF9LHI6MCxjOltobGpzLkhDTSxlLHtjTjoicmVnZXhwIixiOiIoc3x0cnx5KS8oXFxcXC58W14vXSkqLyhcXFxcLnxbXi9dKSovW2Etel0qIixyOjEwfSx7Y046InJlZ2V4cCIsYjoiKG18cXIpPy8iLGU6Ii9bYS16XSoiLGM6W2hsanMuQkVdLHI6MH1dfSx7Y046InN1YiIsYjoiXFxic3ViXFxiIixlOiIoXFxzKlxcKC4qP1xcKSk/Wzt7XSIsazp7c3ViOjF9LHI6NX0se2NOOiJvcGVyYXRvciIsYjoiLVxcd1xcYiIscjowfSx7Y046InBvZCIsYjoiXFw9XFx3IixlOiJcXD1jdXQifV07Zi5jPWE7Zy5jWzFdLmM9YTtyZXR1cm57ZE06e2s6ZCxjOmF9fX0oKTtobGpzLkxBTkdVQUdFUy5weXRob249ZnVuY3Rpb24oKXt2YXIgYj1be2NOOiJzdHJpbmciLGI6Iih1fGIpP3I/JycnIixlOiInJyciLHI6MTB9LHtjTjoic3RyaW5nIixiOicodXxiKT9yPyIiIicsZTonIiIiJyxyOjEwfSx7Y046InN0cmluZyIsYjoiKHV8cnx1ciknIixlOiInIixjOltobGpzLkJFXSxyOjEwfSx7Y046InN0cmluZyIsYjonKHV8cnx1cikiJyxlOiciJyxjOltobGpzLkJFXSxyOjEwfSx7Y046InN0cmluZyIsYjoiKGJ8YnIpJyIsZToiJyIsYzpbaGxqcy5CRV19LHtjTjoic3RyaW5nIixiOicoYnxicikiJyxlOiciJyxjOltobGpzLkJFXX1dLmNvbmNhdChbaGxqcy5BU00saGxqcy5RU01dKTt2YXIgZD17Y046InRpdGxlIixiOmhsanMuVUlSfTt2YXIgYz17Y046InBhcmFtcyIsYjoiXFwoIixlOiJcXCkiLGM6Yi5jb25jYXQoW2hsanMuQ05NXSl9O3ZhciBhPXtiV0s6dHJ1ZSxlOiI6IixpOiJbJHtdIixjOltkLGNdLHI6MTB9O3JldHVybntkTTp7azp7a2V5d29yZDp7YW5kOjEsZWxpZjoxLGlzOjEsZ2xvYmFsOjEsYXM6MSwiaW4iOjEsImlmIjoxLGZyb206MSxyYWlzZToxLCJmb3IiOjEsZXhjZXB0OjEsImZpbmFsbHkiOjEscHJpbnQ6MSwiaW1wb3J0IjoxLHBhc3M6MSwicmV0dXJuIjoxLGV4ZWM6MSwiZWxzZSI6MSwiYnJlYWsiOjEsbm90OjEsIndpdGgiOjEsImNsYXNzIjoxLGFzc2VydDoxLHlpZWxkOjEsInRyeSI6MSwid2hpbGUiOjEsImNvbnRpbnVlIjoxLGRlbDoxLG9yOjEsZGVmOjEsbGFtYmRhOjEsbm9ubG9jYWw6MTB9LGJ1aWx0X2luOntOb25lOjEsVHJ1ZToxLEZhbHNlOjEsRWxsaXBzaXM6MSxOb3RJbXBsZW1lbnRlZDoxfX0saToiKDwvfC0+fFxcPykiLGM6Yi5jb25jYXQoW2hsanMuSENNLGhsanMuaW5oZXJpdChhLHtjTjoiZnVuY3Rpb24iLGs6e2RlZjoxfX0pLGhsanMuaW5oZXJpdChhLHtjTjoiY2xhc3MiLGs6eyJjbGFzcyI6MX19KSxobGpzLkNOTSx7Y046ImRlY29yYXRvciIsYjoiQCIsZToiJCJ9XSl9fX0oKTtobGpzLkxBTkdVQUdFUy5yPXtkTTp7YzpbaGxqcy5IQ00se2NOOiJudW1iZXIiLGI6IlxcYjBbeFhdWzAtOWEtZkEtRl0rW0xpXT9cXGIiLGU6aGxqcy5JTU1FRElBVEVfUkUscjowfSx7Y046Im51bWJlciIsYjoiXFxiXFxkKyg/OltlRV1bK1xcLV0/XFxkKik/TFxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjB9LHtjTjoibnVtYmVyIixiOiJcXGJcXGQrXFwuKD8hXFxkKSg/OmlcXGIpPyIsZTpobGpzLklNTUVESUFURV9SRSxyOjF9LHtjTjoibnVtYmVyIixiOiJcXGJcXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQqKT9pP1xcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjB9LHtjTjoibnVtYmVyIixiOiJcXC5cXGQrKD86W2VFXVsrXFwtXT9cXGQqKT9pP1xcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjF9LHtjTjoia2V5d29yZCIsYjoiKD86dHJ5Q2F0Y2h8bGlicmFyeXxzZXRHZW5lcmljfHNldEdyb3VwR2VuZXJpYylcXGIiLGU6aGxqcy5JTU1FRElBVEVfUkUscjoxMH0se2NOOiJrZXl3b3JkIixiOiJcXC5cXC5cXC4iLGU6aGxqcy5JTU1FRElBVEVfUkUscjoxMH0se2NOOiJrZXl3b3JkIixiOiJcXC5cXC5cXGQrKD8hW1xcdy5dKSIsZTpobGpzLklNTUVESUFURV9SRSxyOjEwfSx7Y046ImtleXdvcmQiLGI6IlxcYig/OmZ1bmN0aW9uKSIsZTpobGpzLklNTUVESUFURV9SRSxyOjJ9LHtjTjoia2V5d29yZCIsYjoiKD86aWZ8aW58YnJlYWt8bmV4dHxyZXBlYXR8ZWxzZXxmb3J8cmV0dXJufHN3aXRjaHx3aGlsZXx0cnl8c3RvcHx3YXJuaW5nfHJlcXVpcmV8YXR0YWNofGRldGFjaHxzb3VyY2V8c2V0TWV0aG9kfHNldENsYXNzKVxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjF9LHtjTjoibGl0ZXJhbCIsYjoiKD86TkF8TkFfaW50ZWdlcl98TkFfcmVhbF98TkFfY2hhcmFjdGVyX3xOQV9jb21wbGV4XylcXGIiLGU6aGxqcy5JTU1FRElBVEVfUkUscjoxMH0se2NOOiJsaXRlcmFsIixiOiIoPzpOVUxMfFRSVUV8RkFMU0V8VHxGfEluZnxOYU4pXFxiIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MX0se2NOOiJpZGVudGlmaWVyIixiOiJbYS16QS1aLl1bYS16QS1aMC05Ll9dKlxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjB9LHtjTjoib3BlcmF0b3IiLGI6IjxcXC0oPyFcXHMqXFxkKSIsZTpobGpzLklNTUVESUFURV9SRSxyOjJ9LHtjTjoib3BlcmF0b3IiLGI6IlxcLT58PFxcLSIsZTpobGpzLklNTUVESUFURV9SRSxyOjF9LHtjTjoib3BlcmF0b3IiLGI6IiUlfH4iLGU6aGxqcy5JTU1FRElBVEVfUkV9LHtjTjoib3BlcmF0b3IiLGI6Ij49fDw9fD09fCE9fFxcfFxcfHwmJnw9fFxcK3xcXC18XFwqfC98XFxefD58PHwhfCZ8XFx8fFxcJHw6IixlOmhsanMuSU1NRURJQVRFX1JFLHI6MH0se2NOOiJvcGVyYXRvciIsYjoiJSIsZToiJSIsaToiXFxuIixyOjF9LHtjTjoiaWRlbnRpZmllciIsYjoiYCIsZToiYCIscjowfSx7Y046InN0cmluZyIsYjonIicsZTonIicsYzpbaGxqcy5CRV0scjowfSx7Y046InN0cmluZyIsYjoiJyIsZToiJyIsYzpbaGxqcy5CRV0scjowfSx7Y046InBhcmVuIixiOiJbWyh7XFxdKX1dIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MH1dfX07aGxqcy5MQU5HVUFHRVMucnVieT1mdW5jdGlvbigpe3ZhciBhPSJbYS16QS1aX11bYS16QS1aMC05X10qKFxcIXxcXD8pPyI7dmFyIGo9IlthLXpBLVpfXVxcdypbIT89XT98Wy0rfl1cXEB8PDx8Pj58PX58PT09P3w8PT58Wzw+XT0/fFxcKlxcKnxbLS8rJV4mKn5gfF18XFxbXFxdPT8iO3ZhciBmPXtrZXl3b3JkOnthbmQ6MSwiZmFsc2UiOjEsdGhlbjoxLGRlZmluZWQ6MSxtb2R1bGU6MSwiaW4iOjEsInJldHVybiI6MSxyZWRvOjEsImlmIjoxLEJFR0lOOjEscmV0cnk6MSxlbmQ6MSwiZm9yIjoxLCJ0cnVlIjoxLHNlbGY6MSx3aGVuOjEsbmV4dDoxLHVudGlsOjEsImRvIjoxLGJlZ2luOjEsdW5sZXNzOjEsRU5EOjEscmVzY3VlOjEsbmlsOjEsImVsc2UiOjEsImJyZWFrIjoxLHVuZGVmOjEsbm90OjEsInN1cGVyIjoxLCJjbGFzcyI6MSwiY2FzZSI6MSxyZXF1aXJlOjEseWllbGQ6MSxhbGlhczoxLCJ3aGlsZSI6MSxlbnN1cmU6MSxlbHNpZjoxLG9yOjEsZGVmOjF9LGtleW1ldGhvZHM6e19faWRfXzoxLF9fc2VuZF9fOjEsYWJvcnQ6MSxhYnM6MSwiYWxsPyI6MSxhbGxvY2F0ZToxLGFuY2VzdG9yczoxLCJhbnk/IjoxLGFyaXR5OjEsYXNzb2M6MSxhdDoxLGF0X2V4aXQ6MSxhdXRvbG9hZDoxLCJhdXRvbG9hZD8iOjEsImJldHdlZW4/IjoxLGJpbmRpbmc6MSxiaW5tb2RlOjEsImJsb2NrX2dpdmVuPyI6MSxjYWxsOjEsY2FsbGNjOjEsY2FsbGVyOjEsY2FwaXRhbGl6ZToxLCJjYXBpdGFsaXplISI6MSxjYXNlY21wOjEsImNhdGNoIjoxLGNlaWw6MSxjZW50ZXI6MSxjaG9tcDoxLCJjaG9tcCEiOjEsY2hvcDoxLCJjaG9wISI6MSxjaHI6MSwiY2xhc3MiOjEsY2xhc3NfZXZhbDoxLCJjbGFzc192YXJpYWJsZV9kZWZpbmVkPyI6MSxjbGFzc192YXJpYWJsZXM6MSxjbGVhcjoxLGNsb25lOjEsY2xvc2U6MSxjbG9zZV9yZWFkOjEsY2xvc2Vfd3JpdGU6MSwiY2xvc2VkPyI6MSxjb2VyY2U6MSxjb2xsZWN0OjEsImNvbGxlY3QhIjoxLGNvbXBhY3Q6MSwiY29tcGFjdCEiOjEsY29uY2F0OjEsImNvbnN0X2RlZmluZWQ/IjoxLGNvbnN0X2dldDoxLGNvbnN0X21pc3Npbmc6MSxjb25zdF9zZXQ6MSxjb25zdGFudHM6MSxjb3VudDoxLGNyeXB0OjEsImRlZmF1bHQiOjEsZGVmYXVsdF9wcm9jOjEsImRlbGV0ZSI6MSwiZGVsZXRlISI6MSxkZWxldGVfYXQ6MSxkZWxldGVfaWY6MSxkZXRlY3Q6MSxkaXNwbGF5OjEsZGl2OjEsZGl2bW9kOjEsZG93bmNhc2U6MSwiZG93bmNhc2UhIjoxLGRvd250bzoxLGR1bXA6MSxkdXA6MSxlYWNoOjEsZWFjaF9ieXRlOjEsZWFjaF9pbmRleDoxLGVhY2hfa2V5OjEsZWFjaF9saW5lOjEsZWFjaF9wYWlyOjEsZWFjaF92YWx1ZToxLGVhY2hfd2l0aF9pbmRleDoxLCJlbXB0eT8iOjEsZW50cmllczoxLGVvZjoxLCJlb2Y/IjoxLCJlcWw/IjoxLCJlcXVhbD8iOjEsImV2YWwiOjEsZXhlYzoxLGV4aXQ6MSwiZXhpdCEiOjEsZXh0ZW5kOjEsZmFpbDoxLGZjbnRsOjEsZmV0Y2g6MSxmaWxlbm86MSxmaWxsOjEsZmluZDoxLGZpbmRfYWxsOjEsZmlyc3Q6MSxmbGF0dGVuOjEsImZsYXR0ZW4hIjoxLGZsb29yOjEsZmx1c2g6MSxmb3JfZmQ6MSxmb3JlYWNoOjEsZm9yazoxLGZvcm1hdDoxLGZyZWV6ZToxLCJmcm96ZW4/IjoxLGZzeW5jOjEsZ2V0YzoxLGdldHM6MSxnbG9iYWxfdmFyaWFibGVzOjEsZ3JlcDoxLGdzdWI6MSwiZ3N1YiEiOjEsImhhc19rZXk/IjoxLCJoYXNfdmFsdWU/IjoxLGhhc2g6MSxoZXg6MSxpZDoxLGluY2x1ZGU6MSwiaW5jbHVkZT8iOjEsaW5jbHVkZWRfbW9kdWxlczoxLGluZGV4OjEsaW5kZXhlczoxLGluZGljZXM6MSxpbmR1Y2VkX2Zyb206MSxpbmplY3Q6MSxpbnNlcnQ6MSxpbnNwZWN0OjEsaW5zdGFuY2VfZXZhbDoxLGluc3RhbmNlX21ldGhvZDoxLGluc3RhbmNlX21ldGhvZHM6MSwiaW5zdGFuY2Vfb2Y/IjoxLCJpbnN0YW5jZV92YXJpYWJsZV9kZWZpbmVkPyI6MSxpbnN0YW5jZV92YXJpYWJsZV9nZXQ6MSxpbnN0YW5jZV92YXJpYWJsZV9zZXQ6MSxpbnN0YW5jZV92YXJpYWJsZXM6MSwiaW50ZWdlcj8iOjEsaW50ZXJuOjEsaW52ZXJ0OjEsaW9jdGw6MSwiaXNfYT8iOjEsaXNhdHR5OjEsIml0ZXJhdG9yPyI6MSxqb2luOjEsImtleT8iOjEsa2V5czoxLCJraW5kX29mPyI6MSxsYW1iZGE6MSxsYXN0OjEsbGVuZ3RoOjEsbGluZW5vOjEsbGp1c3Q6MSxsb2FkOjEsbG9jYWxfdmFyaWFibGVzOjEsbG9vcDoxLGxzdHJpcDoxLCJsc3RyaXAhIjoxLG1hcDoxLCJtYXAhIjoxLG1hdGNoOjEsbWF4OjEsIm1lbWJlcj8iOjEsbWVyZ2U6MSwibWVyZ2UhIjoxLG1ldGhvZDoxLCJtZXRob2RfZGVmaW5lZD8iOjEsbWV0aG9kX21pc3Npbmc6MSxtZXRob2RzOjEsbWluOjEsbW9kdWxlX2V2YWw6MSxtb2R1bG86MSxuYW1lOjEsbmVzdGluZzoxLCJuZXciOjEsbmV4dDoxLCJuZXh0ISI6MSwibmlsPyI6MSxuaXRlbXM6MSwibm9uemVybz8iOjEsb2JqZWN0X2lkOjEsb2N0OjEsb3BlbjoxLHBhY2s6MSxwYXJ0aXRpb246MSxwaWQ6MSxwaXBlOjEscG9wOjEscG9wZW46MSxwb3M6MSxwcmVjOjEscHJlY19mOjEscHJlY19pOjEscHJpbnQ6MSxwcmludGY6MSxwcml2YXRlX2NsYXNzX21ldGhvZDoxLHByaXZhdGVfaW5zdGFuY2VfbWV0aG9kczoxLCJwcml2YXRlX21ldGhvZF9kZWZpbmVkPyI6MSxwcml2YXRlX21ldGhvZHM6MSxwcm9jOjEscHJvdGVjdGVkX2luc3RhbmNlX21ldGhvZHM6MSwicHJvdGVjdGVkX21ldGhvZF9kZWZpbmVkPyI6MSxwcm90ZWN0ZWRfbWV0aG9kczoxLHB1YmxpY19jbGFzc19tZXRob2Q6MSxwdWJsaWNfaW5zdGFuY2VfbWV0aG9kczoxLCJwdWJsaWNfbWV0aG9kX2RlZmluZWQ/IjoxLHB1YmxpY19tZXRob2RzOjEscHVzaDoxLHB1dGM6MSxwdXRzOjEscXVvOjEscmFpc2U6MSxyYW5kOjEscmFzc29jOjEscmVhZDoxLHJlYWRfbm9uYmxvY2s6MSxyZWFkY2hhcjoxLHJlYWRsaW5lOjEscmVhZGxpbmVzOjEscmVhZHBhcnRpYWw6MSxyZWhhc2g6MSxyZWplY3Q6MSwicmVqZWN0ISI6MSxyZW1haW5kZXI6MSxyZW9wZW46MSxyZXBsYWNlOjEscmVxdWlyZToxLCJyZXNwb25kX3RvPyI6MSxyZXZlcnNlOjEsInJldmVyc2UhIjoxLHJldmVyc2VfZWFjaDoxLHJld2luZDoxLHJpbmRleDoxLHJqdXN0OjEscm91bmQ6MSxyc3RyaXA6MSwicnN0cmlwISI6MSxzY2FuOjEsc2VlazoxLHNlbGVjdDoxLHNlbmQ6MSxzZXRfdHJhY2VfZnVuYzoxLHNoaWZ0OjEsc2luZ2xldG9uX21ldGhvZF9hZGRlZDoxLHNpbmdsZXRvbl9tZXRob2RzOjEsc2l6ZToxLHNsZWVwOjEsc2xpY2U6MSwic2xpY2UhIjoxLHNvcnQ6MSwic29ydCEiOjEsc29ydF9ieToxLHNwbGl0OjEsc3ByaW50ZjoxLHNxdWVlemU6MSwic3F1ZWV6ZSEiOjEsc3JhbmQ6MSxzdGF0OjEsc3RlcDoxLHN0b3JlOjEsc3RyaXA6MSwic3RyaXAhIjoxLHN1YjoxLCJzdWIhIjoxLHN1Y2M6MSwic3VjYyEiOjEsc3VtOjEsc3VwZXJjbGFzczoxLHN3YXBjYXNlOjEsInN3YXBjYXNlISI6MSxzeW5jOjEsc3lzY2FsbDoxLHN5c29wZW46MSxzeXNyZWFkOjEsc3lzc2VlazoxLHN5c3RlbToxLHN5c3dyaXRlOjEsdGFpbnQ6MSwidGFpbnRlZD8iOjEsdGVsbDoxLHRlc3Q6MSwidGhyb3ciOjEsdGltZXM6MSx0b19hOjEsdG9fYXJ5OjEsdG9fZjoxLHRvX2hhc2g6MSx0b19pOjEsdG9faW50OjEsdG9faW86MSx0b19wcm9jOjEsdG9fczoxLHRvX3N0cjoxLHRvX3N5bToxLHRyOjEsInRyISI6MSx0cl9zOjEsInRyX3MhIjoxLHRyYWNlX3ZhcjoxLHRyYW5zcG9zZToxLHRyYXA6MSx0cnVuY2F0ZToxLCJ0dHk/IjoxLHR5cGU6MSx1bmdldGM6MSx1bmlxOjEsInVuaXEhIjoxLHVucGFjazoxLHVuc2hpZnQ6MSx1bnRhaW50OjEsdW50cmFjZV92YXI6MSx1cGNhc2U6MSwidXBjYXNlISI6MSx1cGRhdGU6MSx1cHRvOjEsInZhbHVlPyI6MSx2YWx1ZXM6MSx2YWx1ZXNfYXQ6MSx3YXJuOjEsd3JpdGU6MSx3cml0ZV9ub25ibG9jazoxLCJ6ZXJvPyI6MSx6aXA6MX19O3ZhciBjPXtjTjoieWFyZG9jdGFnIixiOiJAW0EtWmEtel0rIn07dmFyIGs9W3tjTjoiY29tbWVudCIsYjoiIyIsZToiJCIsYzpbY119LHtjTjoiY29tbWVudCIsYjoiXlxcPWJlZ2luIixlOiJeXFw9ZW5kIixjOltjXSxyOjEwfSx7Y046ImNvbW1lbnQiLGI6Il5fX0VORF9fIixlOiJcXG4kIn1dO3ZhciBkPXtjTjoic3Vic3QiLGI6IiNcXHsiLGU6In0iLGw6YSxrOmZ9O3ZhciBpPVtobGpzLkJFLGRdO3ZhciBiPVt7Y046InN0cmluZyIsYjoiJyIsZToiJyIsYzppLHI6MH0se2NOOiJzdHJpbmciLGI6JyInLGU6JyInLGM6aSxyOjB9LHtjTjoic3RyaW5nIixiOiIlW3F3XT9cXCgiLGU6IlxcKSIsYzppLHI6MTB9LHtjTjoic3RyaW5nIixiOiIlW3F3XT9cXFsiLGU6IlxcXSIsYzppLHI6MTB9LHtjTjoic3RyaW5nIixiOiIlW3F3XT97IixlOiJ9IixjOmkscjoxMH0se2NOOiJzdHJpbmciLGI6IiVbcXddPzwiLGU6Ij4iLGM6aSxyOjEwfSx7Y046InN0cmluZyIsYjoiJVtxd10/LyIsZToiLyIsYzppLHI6MTB9LHtjTjoic3RyaW5nIixiOiIlW3F3XT8lIixlOiIlIixjOmkscjoxMH0se2NOOiJzdHJpbmciLGI6IiVbcXddPy0iLGU6Ii0iLGM6aSxyOjEwfSx7Y046InN0cmluZyIsYjoiJVtxd10/XFx8IixlOiJcXHwiLGM6aSxyOjEwfV07dmFyIGg9e2NOOiJmdW5jdGlvbiIsYjoiXFxiZGVmXFxzKyIsZToiIHwkfDsiLGw6YSxrOmYsYzpbe2NOOiJ0aXRsZSIsYjpqLGw6YSxrOmZ9LHtjTjoicGFyYW1zIixiOiJcXCgiLGU6IlxcKSIsbDphLGs6Zn1dLmNvbmNhdChrKX07dmFyIGc9e2NOOiJpZGVudGlmaWVyIixiOmEsbDphLGs6ZixyOjB9O3ZhciBlPWsuY29uY2F0KGIuY29uY2F0KFt7Y046ImNsYXNzIixiOiJcXGIoY2xhc3N8bW9kdWxlKVxcYiIsZToiJHw7IixrOnsiY2xhc3MiOjEsbW9kdWxlOjF9LGM6W3tjTjoidGl0bGUiLGI6IltBLVphLXpfXVxcdyooOjpcXHcrKSooXFw/fFxcISk/IixyOjB9LHtjTjoiaW5oZXJpdGFuY2UiLGI6IjxcXHMqIixjOlt7Y046InBhcmVudCIsYjoiKCIraGxqcy5JUisiOjopPyIraGxqcy5JUn1dfV0uY29uY2F0KGspfSxoLHtjTjoiY29uc3RhbnQiLGI6Iig6Oik/KFtBLVpdXFx3Kig6Oik/KSsiLHI6MH0se2NOOiJzeW1ib2wiLGI6IjoiLGM6Yi5jb25jYXQoW2ddKSxyOjB9LHtjTjoibnVtYmVyIixiOiIoXFxiMFswLTdfXSspfChcXGIweFswLTlhLWZBLUZfXSspfChcXGJbMS05XVswLTlfXSooXFwuWzAtOV9dKyk/KXxbMF9dXFxiIixyOjB9LHtjTjoibnVtYmVyIixiOiJcXD9cXHcifSx7Y046InZhcmlhYmxlIixiOiIoXFwkXFxXKXwoKFxcJHxcXEBcXEA/KShcXHcrKSkifSxnLHtiOiIoIitobGpzLlJTUisiKVxccyoiLGM6ay5jb25jYXQoW3tjTjoicmVnZXhwIixiOiIvIixlOiIvW2Etel0qIixpOiJcXG4iLGM6W2hsanMuQkVdfV0pLHI6MH1dKSk7ZC5jPWU7aC5jWzFdLmM9ZTtyZXR1cm57ZE06e2w6YSxrOmYsYzplfX19KCk7aGxqcy5MQU5HVUFHRVMuc2NhbGE9ZnVuY3Rpb24oKXt2YXIgYj17Y046ImFubm90YXRpb24iLGI6IkBbQS1aYS16XSsifTt2YXIgYT17Y046InN0cmluZyIsYjondT9yPyIiIicsZTonIiIiJyxyOjEwfTtyZXR1cm57ZE06e2s6e3R5cGU6MSx5aWVsZDoxLGxhenk6MSxvdmVycmlkZToxLGRlZjoxLCJ3aXRoIjoxLHZhbDoxLCJ2YXIiOjEsImZhbHNlIjoxLCJ0cnVlIjoxLHNlYWxlZDoxLCJhYnN0cmFjdCI6MSwicHJpdmF0ZSI6MSx0cmFpdDoxLG9iamVjdDoxLCJudWxsIjoxLCJpZiI6MSwiZm9yIjoxLCJ3aGlsZSI6MSwidGhyb3ciOjEsImZpbmFsbHkiOjEsInByb3RlY3RlZCI6MSwiZXh0ZW5kcyI6MSwiaW1wb3J0IjoxLCJmaW5hbCI6MSwicmV0dXJuIjoxLCJlbHNlIjoxLCJicmVhayI6MSwibmV3IjoxLCJjYXRjaCI6MSwic3VwZXIiOjEsImNsYXNzIjoxLCJjYXNlIjoxLCJwYWNrYWdlIjoxLCJkZWZhdWx0IjoxLCJ0cnkiOjEsInRoaXMiOjEsbWF0Y2g6MSwiY29udGludWUiOjEsInRocm93cyI6MX0sYzpbe2NOOiJqYXZhZG9jIixiOiIvXFwqXFwqIixlOiJcXCovIixjOlt7Y046ImphdmFkb2N0YWciLGI6IkBbQS1aYS16XSsifV0scjoxMH0saGxqcy5DTENNLGhsanMuQ0JMQ0xNLGhsanMuQVNNLGhsanMuUVNNLGEse2NOOiJjbGFzcyIsYjoiKChjYXNlICk/Y2xhc3MgfG9iamVjdCB8dHJhaXQgKSIsZToiKHt8JCkiLGk6IjoiLGs6eyJjYXNlIjoxLCJjbGFzcyI6MSx0cmFpdDoxLG9iamVjdDoxfSxjOlt7YldLOnRydWUsazp7ImV4dGVuZHMiOjEsIndpdGgiOjF9LHI6MTB9LHtjTjoidGl0bGUiLGI6aGxqcy5VSVJ9LHtjTjoicGFyYW1zIixiOiJcXCgiLGU6IlxcKSIsYzpbaGxqcy5BU00saGxqcy5RU00sYSxiXX1dfSxobGpzLkNOTSxiXX19fSgpO2hsanMuTEFOR1VBR0VTLnNxbD17Y0k6dHJ1ZSxkTTp7aToiW15cXHNdIixjOlt7Y046Im9wZXJhdG9yIixiOiIoYmVnaW58c3RhcnR8Y29tbWl0fHJvbGxiYWNrfHNhdmVwb2ludHxsb2NrfGFsdGVyfGNyZWF0ZXxkcm9wfHJlbmFtZXxjYWxsfGRlbGV0ZXxkb3xoYW5kbGVyfGluc2VydHxsb2FkfHJlcGxhY2V8c2VsZWN0fHRydW5jYXRlfHVwZGF0ZXxzZXR8c2hvd3xwcmFnbWF8Z3JhbnQpXFxiIixlOiI7fCIraGxqcy5FUixrOntrZXl3b3JkOnthbGw6MSxwYXJ0aWFsOjEsZ2xvYmFsOjEsbW9udGg6MSxjdXJyZW50X3RpbWVzdGFtcDoxLHVzaW5nOjEsZ286MSxyZXZva2U6MSxzbWFsbGludDoxLGluZGljYXRvcjoxLCJlbmQtZXhlYyI6MSxkaXNjb25uZWN0OjEsem9uZToxLCJ3aXRoIjoxLGNoYXJhY3RlcjoxLGFzc2VydGlvbjoxLHRvOjEsYWRkOjEsY3VycmVudF91c2VyOjEsdXNhZ2U6MSxpbnB1dDoxLGxvY2FsOjEsYWx0ZXI6MSxtYXRjaDoxLGNvbGxhdGU6MSxyZWFsOjEsdGhlbjoxLHJvbGxiYWNrOjEsZ2V0OjEscmVhZDoxLHRpbWVzdGFtcDoxLHNlc3Npb25fdXNlcjoxLG5vdDoxLGludGVnZXI6MSxiaXQ6MSx1bmlxdWU6MSxkYXk6MSxtaW51dGU6MSxkZXNjOjEsaW5zZXJ0OjEsZXhlY3V0ZToxLGxpa2U6MSxpbGlrZToyLGxldmVsOjEsZGVjaW1hbDoxLGRyb3A6MSwiY29udGludWUiOjEsaXNvbGF0aW9uOjEsZm91bmQ6MSx3aGVyZToxLGNvbnN0cmFpbnRzOjEsZG9tYWluOjEscmlnaHQ6MSxuYXRpb25hbDoxLHNvbWU6MSxtb2R1bGU6MSx0cmFuc2FjdGlvbjoxLHJlbGF0aXZlOjEsc2Vjb25kOjEsY29ubmVjdDoxLGVzY2FwZToxLGNsb3NlOjEsc3lzdGVtX3VzZXI6MSwiZm9yIjoxLGRlZmVycmVkOjEsc2VjdGlvbjoxLGNhc3Q6MSxjdXJyZW50OjEsc3Fsc3RhdGU6MSxhbGxvY2F0ZToxLGludGVyc2VjdDoxLGRlYWxsb2NhdGU6MSxudW1lcmljOjEsInB1YmxpYyI6MSxwcmVzZXJ2ZToxLGZ1bGw6MSwiZ290byI6MSxpbml0aWFsbHk6MSxhc2M6MSxubzoxLGtleToxLG91dHB1dDoxLGNvbGxhdGlvbjoxLGdyb3VwOjEsYnk6MSx1bmlvbjoxLHNlc3Npb246MSxib3RoOjEsbGFzdDoxLGxhbmd1YWdlOjEsY29uc3RyYWludDoxLGNvbHVtbjoxLG9mOjEsc3BhY2U6MSxmb3JlaWduOjEsZGVmZXJyYWJsZToxLHByaW9yOjEsY29ubmVjdGlvbjoxLHVua25vd246MSxhY3Rpb246MSxjb21taXQ6MSx2aWV3OjEsb3I6MSxmaXJzdDoxLGludG86MSwiZmxvYXQiOjEseWVhcjoxLHByaW1hcnk6MSxjYXNjYWRlZDoxLGV4Y2VwdDoxLHJlc3RyaWN0OjEsc2V0OjEscmVmZXJlbmNlczoxLG5hbWVzOjEsdGFibGU6MSxvdXRlcjoxLG9wZW46MSxzZWxlY3Q6MSxzaXplOjEsYXJlOjEscm93czoxLGZyb206MSxwcmVwYXJlOjEsZGlzdGluY3Q6MSxsZWFkaW5nOjEsY3JlYXRlOjEsb25seToxLG5leHQ6MSxpbm5lcjoxLGF1dGhvcml6YXRpb246MSxzY2hlbWE6MSxjb3JyZXNwb25kaW5nOjEsb3B0aW9uOjEsZGVjbGFyZToxLHByZWNpc2lvbjoxLGltbWVkaWF0ZToxLCJlbHNlIjoxLHRpbWV6b25lX21pbnV0ZToxLGV4dGVybmFsOjEsdmFyeWluZzoxLHRyYW5zbGF0aW9uOjEsInRydWUiOjEsImNhc2UiOjEsZXhjZXB0aW9uOjEsam9pbjoxLGhvdXI6MSwiZGVmYXVsdCI6MSwiZG91YmxlIjoxLHNjcm9sbDoxLHZhbHVlOjEsY3Vyc29yOjEsZGVzY3JpcHRvcjoxLHZhbHVlczoxLGRlYzoxLGZldGNoOjEscHJvY2VkdXJlOjEsImRlbGV0ZSI6MSxhbmQ6MSwiZmFsc2UiOjEsImludCI6MSxpczoxLGRlc2NyaWJlOjEsImNoYXIiOjEsYXM6MSxhdDoxLCJpbiI6MSx2YXJjaGFyOjEsIm51bGwiOjEsdHJhaWxpbmc6MSxhbnk6MSxhYnNvbHV0ZToxLGN1cnJlbnRfdGltZToxLGVuZDoxLGdyYW50OjEscHJpdmlsZWdlczoxLHdoZW46MSxjcm9zczoxLGNoZWNrOjEsd3JpdGU6MSxjdXJyZW50X2RhdGU6MSxwYWQ6MSxiZWdpbjoxLHRlbXBvcmFyeToxLGV4ZWM6MSx0aW1lOjEsdXBkYXRlOjEsY2F0YWxvZzoxLHVzZXI6MSxzcWw6MSxkYXRlOjEsb246MSxpZGVudGl0eToxLHRpbWV6b25lX2hvdXI6MSxuYXR1cmFsOjEsd2hlbmV2ZXI6MSxpbnRlcnZhbDoxLHdvcms6MSxvcmRlcjoxLGNhc2NhZGU6MSxkaWFnbm9zdGljczoxLG5jaGFyOjEsaGF2aW5nOjEsbGVmdDoxLGNhbGw6MSwiZG8iOjEsaGFuZGxlcjoxLGxvYWQ6MSxyZXBsYWNlOjEsdHJ1bmNhdGU6MSxzdGFydDoxLGxvY2s6MSxzaG93OjEscHJhZ21hOjF9LGFnZ3JlZ2F0ZTp7Y291bnQ6MSxzdW06MSxtaW46MSxtYXg6MSxhdmc6MX19LGM6W3tjTjoic3RyaW5nIixiOiInIixlOiInIixjOltobGpzLkJFLHtiOiInJyJ9XSxyOjB9LHtjTjoic3RyaW5nIixiOiciJyxlOiciJyxjOltobGpzLkJFLHtiOiciIid9XSxyOjB9LHtjTjoic3RyaW5nIixiOiJgIixlOiJgIixjOltobGpzLkJFXX0saGxqcy5DTk1dfSxobGpzLkNCTENMTSx7Y046ImNvbW1lbnQiLGI6Ii0tIixlOiIkIn1dfX07aGxqcy5MQU5HVUFHRVMuc3Rhbj17ZE06e2M6W2hsanMuSENNLGhsanMuQ0xDTSxobGpzLlFTTSxobGpzLkNOTSx7Y046Im9wZXJhdG9yIixiOiIoPzo8LXx+fFxcfFxcfHwmJnw9PXwhPXw8PT98Pj0/fFxcK3wtfFxcLj8vfFxcXFx8XFxefFxcXnwhfCd8JXw6fCx8O3w9KVxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjEwfSx7Y046InBhcmVuIixiOiJbWyh7XFxdKX1dIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MH0se2NOOiJmdW5jdGlvbiIsYjoiKD86UGhpfFBoaV9hcHByb3h8YWJzfGFjb3N8YWNvc2h8YXBwZW5kX2NvbHxhcHBlbmRfcm93fGFzaW58YXNpbmh8YXRhbnxhdGFuMnxhdGFuaHxiZXJub3VsbGlfY2NkZl9sb2d8YmVybm91bGxpX2NkZnxiZXJub3VsbGlfY2RmX2xvZ3xiZXJub3VsbGlfbG9nfGJlcm5vdWxsaV9sb2dpdF9sb2d8YmVybm91bGxpX3JuZ3xiZXNzZWxfZmlyc3Rfa2luZHxiZXNzZWxfc2Vjb25kX2tpbmR8YmV0YV9iaW5vbWlhbF9jY2RmX2xvZ3xiZXRhX2Jpbm9taWFsX2NkZnxiZXRhX2Jpbm9taWFsX2NkZl9sb2d8YmV0YV9iaW5vbWlhbF9sb2d8YmV0YV9iaW5vbWlhbF9ybmd8YmV0YV9jY2RmX2xvZ3xiZXRhX2NkZnxiZXRhX2NkZl9sb2d8YmV0YV9sb2d8YmV0YV9ybmd8YmluYXJ5X2xvZ19sb3NzfGJpbm9taWFsX2NjZGZfbG9nfGJpbm9taWFsX2NkZnxiaW5vbWlhbF9jZGZfbG9nfGJpbm9taWFsX2NvZWZmaWNpZW50X2xvZ3xiaW5vbWlhbF9sb2d8Ymlub21pYWxfbG9naXRfbG9nfGJpbm9taWFsX3JuZ3xibG9ja3xjYXRlZ29yaWNhbF9sb2d8Y2F0ZWdvcmljYWxfbG9naXRfbG9nfGNhdGVnb3JpY2FsX3JuZ3xjYXVjaHlfY2NkZl9sb2d8Y2F1Y2h5X2NkZnxjYXVjaHlfY2RmX2xvZ3xjYXVjaHlfbG9nfGNhdWNoeV9ybmd8Y2JydHxjZWlsfGNoaV9zcXVhcmVfY2NkZl9sb2d8Y2hpX3NxdWFyZV9jZGZ8Y2hpX3NxdWFyZV9jZGZfbG9nfGNoaV9zcXVhcmVfbG9nfGNoaV9zcXVhcmVfcm5nfGNob2xlc2t5X2RlY29tcG9zZXxjb2x8Y29sc3xjb2x1bW5zX2RvdF9wcm9kdWN0fGNvbHVtbnNfZG90X3NlbGZ8Y29zfGNvc2h8Y3Jvc3Nwcm9kfGNzcl9leHRyYWN0X3V8Y3NyX2V4dHJhY3Rfdnxjc3JfZXh0cmFjdF93fGNzcl9tYXRyaXhfdGltZXNfdmVjdG9yfGNzcl90b19kZW5zZV9tYXRyaXh8Y3VtdWxhdGl2ZV9zdW18ZGV0ZXJtaW5hbnR8ZGlhZ19tYXRyaXh8ZGlhZ19wb3N0X211bHRpcGx5fGRpYWdfcHJlX211bHRpcGx5fGRpYWdvbmFsfGRpZ2FtbWF8ZGltc3xkaXJpY2hsZXRfbG9nfGRpcmljaGxldF9ybmd8ZGlzdGFuY2V8ZG90X3Byb2R1Y3R8ZG90X3NlbGZ8ZG91YmxlX2V4cG9uZW50aWFsX2NjZGZfbG9nfGRvdWJsZV9leHBvbmVudGlhbF9jZGZ8ZG91YmxlX2V4cG9uZW50aWFsX2NkZl9sb2d8ZG91YmxlX2V4cG9uZW50aWFsX2xvZ3xkb3VibGVfZXhwb25lbnRpYWxfcm5nfGV8ZWlnZW52YWx1ZXNfc3ltfGVpZ2VudmVjdG9yc19zeW18ZXJmfGVyZmN8ZXhwfGV4cDJ8ZXhwX21vZF9ub3JtYWxfY2NkZl9sb2d8ZXhwX21vZF9ub3JtYWxfY2RmfGV4cF9tb2Rfbm9ybWFsX2NkZl9sb2d8ZXhwX21vZF9ub3JtYWxfbG9nfGV4cF9tb2Rfbm9ybWFsX3JuZ3xleHBtMXxleHBvbmVudGlhbF9jY2RmX2xvZ3xleHBvbmVudGlhbF9jZGZ8ZXhwb25lbnRpYWxfY2RmX2xvZ3xleHBvbmVudGlhbF9sb2d8ZXhwb25lbnRpYWxfcm5nfGZhYnN8ZmFsbGluZ19mYWN0b3JpYWx8ZmRpbXxmbG9vcnxmbWF8Zm1heHxmbWlufGZtb2R8ZnJlY2hldF9jY2RmX2xvZ3xmcmVjaGV0X2NkZnxmcmVjaGV0X2NkZl9sb2d8ZnJlY2hldF9sb2d8ZnJlY2hldF9ybmd8Z2FtbWFfY2NkZl9sb2d8Z2FtbWFfY2RmfGdhbW1hX2NkZl9sb2d8Z2FtbWFfbG9nfGdhbW1hX3B8Z2FtbWFfcXxnYW1tYV9ybmd8Z2F1c3NpYW5fZGxtX29ic19sb2d8Z2V0X2xwfGd1bWJlbF9jY2RmX2xvZ3xndW1iZWxfY2RmfGd1bWJlbF9jZGZfbG9nfGd1bWJlbF9sb2d8Z3VtYmVsX3JuZ3xoZWFkfGh5cGVyZ2VvbWV0cmljX2xvZ3xoeXBlcmdlb21ldHJpY19ybmd8aHlwb3R8aWZfZWxzZXxpbnRfc3RlcHxpbnZ8aW52X2NoaV9zcXVhcmVfY2NkZl9sb2d8aW52X2NoaV9zcXVhcmVfY2RmfGludl9jaGlfc3F1YXJlX2NkZl9sb2d8aW52X2NoaV9zcXVhcmVfbG9nfGludl9jaGlfc3F1YXJlX3JuZ3xpbnZfY2xvZ2xvZ3xpbnZfZ2FtbWFfY2NkZl9sb2d8aW52X2dhbW1hX2NkZnxpbnZfZ2FtbWFfY2RmX2xvZ3xpbnZfZ2FtbWFfbG9nfGludl9nYW1tYV9ybmd8aW52X2xvZ2l0fGludl9waGl8aW52X3NxcnR8aW52X3NxdWFyZXxpbnZfd2lzaGFydF9sb2d8aW52X3dpc2hhcnRfcm5nfGludmVyc2V8aW52ZXJzZV9zcGR8aXNfaW5mfGlzX25hbnxsYmV0YXxsZ2FtbWF8bGtqX2NvcnJfY2hvbGVza3lfbG9nfGxral9jb3JyX2Nob2xlc2t5X3JuZ3xsa2pfY29ycl9sb2d8bGtqX2NvcnJfcm5nfGxtZ2FtbWF8bG9nfGxvZzEwfGxvZzFtfGxvZzFtX2V4cHxsb2cxbV9pbnZfbG9naXR8bG9nMXB8bG9nMXBfZXhwfGxvZzJ8bG9nX2RldGVybWluYW50fGxvZ19kaWZmX2V4cHxsb2dfZmFsbGluZ19mYWN0b3JpYWx8bG9nX2ludl9sb2dpdHxsb2dfbWl4fGxvZ19yaXNpbmdfZmFjdG9yaWFsfGxvZ19zb2Z0bWF4fGxvZ19zdW1fZXhwfGxvZ2lzdGljX2NjZGZfbG9nfGxvZ2lzdGljX2NkZnxsb2dpc3RpY19jZGZfbG9nfGxvZ2lzdGljX2xvZ3xsb2dpc3RpY19ybmd8bG9naXR8bG9nbm9ybWFsX2NjZGZfbG9nfGxvZ25vcm1hbF9jZGZ8bG9nbm9ybWFsX2NkZl9sb2d8bG9nbm9ybWFsX2xvZ3xsb2dub3JtYWxfcm5nfG1hY2hpbmVfcHJlY2lzaW9ufG1heHxtZGl2aWRlX2xlZnRfdHJpX2xvd3xtZGl2aWRlX3JpZ2h0X3RyaV9sb3d8bWVhbnxtaW58bW9kaWZpZWRfYmVzc2VsX2ZpcnN0X2tpbmR8bW9kaWZpZWRfYmVzc2VsX3NlY29uZF9raW5kfG11bHRpX2dwX2Nob2xlc2t5X2xvZ3xtdWx0aV9ncF9sb2d8bXVsdGlfbm9ybWFsX2Nob2xlc2t5X2xvZ3xtdWx0aV9ub3JtYWxfY2hvbGVza3lfcm5nfG11bHRpX25vcm1hbF9sb2d8bXVsdGlfbm9ybWFsX3ByZWNfbG9nfG11bHRpX25vcm1hbF9ybmd8bXVsdGlfc3R1ZGVudF90X2xvZ3xtdWx0aV9zdHVkZW50X3Rfcm5nfG11bHRpbm9taWFsX2xvZ3xtdWx0aW5vbWlhbF9ybmd8bXVsdGlwbHlfbG9nfG11bHRpcGx5X2xvd2VyX3RyaV9zZWxmX3RyYW5zcG9zZXxuZWdfYmlub21pYWxfMl9jY2RmX2xvZ3xuZWdfYmlub21pYWxfMl9jZGZ8bmVnX2Jpbm9taWFsXzJfY2RmX2xvZ3xuZWdfYmlub21pYWxfMl9sb2d8bmVnX2Jpbm9taWFsXzJfbG9nX2xvZ3xuZWdfYmlub21pYWxfMl9sb2dfcm5nfG5lZ19iaW5vbWlhbF8yX3JuZ3xuZWdfYmlub21pYWxfY2NkZl9sb2d8bmVnX2Jpbm9taWFsX2NkZnxuZWdfYmlub21pYWxfY2RmX2xvZ3xuZWdfYmlub21pYWxfbG9nfG5lZ19iaW5vbWlhbF9ybmd8bmVnYXRpdmVfaW5maW5pdHl8bm9ybWFsX2NjZGZfbG9nfG5vcm1hbF9jZGZ8bm9ybWFsX2NkZl9sb2d8bm9ybWFsX2xvZ3xub3JtYWxfcm5nfG5vdF9hX251bWJlcnxudW1fZWxlbWVudHN8b3JkZXJlZF9sb2dpc3RpY19sb2d8b3JkZXJlZF9sb2dpc3RpY19ybmd8b3dlbnNfdHxwYXJldG9fY2NkZl9sb2d8cGFyZXRvX2NkZnxwYXJldG9fY2RmX2xvZ3xwYXJldG9fbG9nfHBhcmV0b19ybmd8cGFyZXRvX3R5cGVfMl9jY2RmX2xvZ3xwYXJldG9fdHlwZV8yX2NkZnxwYXJldG9fdHlwZV8yX2NkZl9sb2d8cGFyZXRvX3R5cGVfMl9sb2d8cGFyZXRvX3R5cGVfMl9ybmd8cGl8cG9pc3Nvbl9jY2RmX2xvZ3xwb2lzc29uX2NkZnxwb2lzc29uX2NkZl9sb2d8cG9pc3Nvbl9sb2d8cG9pc3Nvbl9sb2dfbG9nfHBvaXNzb25fbG9nX3JuZ3xwb2lzc29uX3JuZ3xwb3NpdGl2ZV9pbmZpbml0eXxwb3d8cHJvZHxxcl9RfHFyX1J8cXVhZF9mb3JtfHF1YWRfZm9ybV9kaWFnfHF1YWRfZm9ybV9zeW18cmFua3xyYXlsZWlnaF9jY2RmX2xvZ3xyYXlsZWlnaF9jZGZ8cmF5bGVpZ2hfY2RmX2xvZ3xyYXlsZWlnaF9sb2d8cmF5bGVpZ2hfcm5nfHJlcF9hcnJheXxyZXBfbWF0cml4fHJlcF9yb3dfdmVjdG9yfHJlcF92ZWN0b3J8cmlzaW5nX2ZhY3RvcmlhbHxyb3VuZHxyb3d8cm93c3xyb3dzX2RvdF9wcm9kdWN0fHJvd3NfZG90X3NlbGZ8c2NhbGVkX2ludl9jaGlfc3F1YXJlX2NjZGZfbG9nfHNjYWxlZF9pbnZfY2hpX3NxdWFyZV9jZGZ8c2NhbGVkX2ludl9jaGlfc3F1YXJlX2NkZl9sb2d8c2NhbGVkX2ludl9jaGlfc3F1YXJlX2xvZ3xzY2FsZWRfaW52X2NoaV9zcXVhcmVfcm5nfHNkfHNlZ21lbnR8c2lufHNpbmd1bGFyX3ZhbHVlc3xzaW5ofHNpemV8c2tld19ub3JtYWxfY2NkZl9sb2d8c2tld19ub3JtYWxfY2RmfHNrZXdfbm9ybWFsX2NkZl9sb2d8c2tld19ub3JtYWxfbG9nfHNrZXdfbm9ybWFsX3JuZ3xzb2Z0bWF4fHNvcnRfYXNjfHNvcnRfZGVzY3xzb3J0X2luZGljZXNfYXNjfHNvcnRfaW5kaWNlc19kZXNjfHNxcnR8c3FydDJ8c3F1YXJlfHNxdWFyZWRfZGlzdGFuY2V8c3RlcHxzdHVkZW50X3RfY2NkZl9sb2d8c3R1ZGVudF90X2NkZnxzdHVkZW50X3RfY2RmX2xvZ3xzdHVkZW50X3RfbG9nfHN0dWRlbnRfdF9ybmd8c3ViX2NvbHxzdWJfcm93fHN1bXx0YWlsfHRhbnx0YW5ofHRjcm9zc3Byb2R8dGdhbW1hfHRvX2FycmF5XzFkfHRvX2FycmF5XzJkfHRvX21hdHJpeHx0b19yb3dfdmVjdG9yfHRvX3ZlY3Rvcnx0cmFjZXx0cmFjZV9nZW5fcXVhZF9mb3JtfHRyYWNlX3F1YWRfZm9ybXx0cmlnYW1tYXx0cnVuY3x1bmlmb3JtX2NjZGZfbG9nfHVuaWZvcm1fY2RmfHVuaWZvcm1fY2RmX2xvZ3x1bmlmb3JtX2xvZ3x1bmlmb3JtX3JuZ3x2YXJpYW5jZXx2b25fbWlzZXNfbG9nfHZvbl9taXNlc19ybmd8d2VpYnVsbF9jY2RmX2xvZ3x3ZWlidWxsX2NkZnx3ZWlidWxsX2NkZl9sb2d8d2VpYnVsbF9sb2d8d2VpYnVsbF9ybmd8d2llbmVyX2xvZ3x3aXNoYXJ0X2xvZ3x3aXNoYXJ0X3JuZylcXGIiLGU6aGxqcy5JTU1FRElBVEVfUkUscjoxMH0se2NOOiJmdW5jdGlvbiIsYjoiKD86YmVybm91bGxpfGJlcm5vdWxsaV9sb2dpdHxiZXRhfGJldGFfYmlub21pYWx8Ymlub21pYWx8Ymlub21pYWxfbG9naXR8Y2F0ZWdvcmljYWx8Y2F0ZWdvcmljYWxfbG9naXR8Y2F1Y2h5fGNoaV9zcXVhcmV8ZGlyaWNobGV0fGRvdWJsZV9leHBvbmVudGlhbHxleHBfbW9kX25vcm1hbHxleHBvbmVudGlhbHxmcmVjaGV0fGdhbW1hfGdhdXNzaWFuX2RsbV9vYnN8Z3VtYmVsfGh5cGVyZ2VvbWV0cmljfGludl9jaGlfc3F1YXJlfGludl9nYW1tYXxpbnZfd2lzaGFydHxsa2pfY29ycnxsa2pfY29ycl9jaG9sZXNreXxsb2dpc3RpY3xsb2dub3JtYWx8bXVsdGlfZ3B8bXVsdGlfZ3BfY2hvbGVza3l8bXVsdGlfbm9ybWFsfG11bHRpX25vcm1hbF9jaG9sZXNreXxtdWx0aV9ub3JtYWxfcHJlY3xtdWx0aV9zdHVkZW50X3R8bXVsdGlub21pYWx8bmVnX2Jpbm9taWFsfG5lZ19iaW5vbWlhbF8yfG5lZ19iaW5vbWlhbF8yX2xvZ3xub3JtYWx8b3JkZXJlZF9sb2dpc3RpY3xwYXJldG98cGFyZXRvX3R5cGVfMnxwb2lzc29ufHBvaXNzb25fbG9nfHJheWxlaWdofHNjYWxlZF9pbnZfY2hpX3NxdWFyZXxza2V3X25vcm1hbHxzdHVkZW50X3R8dW5pZm9ybXx2b25fbWlzZXN8d2VpYnVsbHx3aWVuZXJ8d2lzaGFydClcXGIiLGU6aGxqcy5JTU1FRElBVEVfUkUscjoxMH0se2NOOiJrZXl3b3JkIixiOiIoPzpmb3J8aW58d2hpbGV8aWZ8dGhlbnxlbHNlfHJldHVybnxsb3dlcnx1cHBlcnxwcmludHxpbmNyZW1lbnRfbG9nX3Byb2J8aW50ZWdyYXRlX29kZXxyZWplY3QpXFxiIixlOmhsanMuSU1NRURJQVRFX1JFLHI6MTB9LHtjTjoia2V5d29yZCIsYjoiKD86aW50fHJlYWx8dmVjdG9yfHNpbXBsZXh8dW5pdF92ZWN0b3J8b3JkZXJlZHxwb3NpdGl2ZV9vcmRlcmVkfHJvd192ZWN0b3J8bWF0cml4fGNob2xlc2t5X2ZhY3Rvcl9jb3Z8Y2hvbGVza3lfZmFjdG9yX2NvcnJ8Y29ycl9tYXRyaXh8Y292X21hdHJpeHx2b2lkKVxcYiIsZTpobGpzLklNTUVESUFURV9SRSxyOjV9LHtjTjoia2V5d29yZCIsYjoiKD86ZnVuY3Rpb25zfGRhdGF8dHJhbnNmb3JtZWRcXHMrZGF0YXxwYXJhbWV0ZXJzfHRyYW5zZm9ybWVkXFxzK3BhcmFtZXRlcnN8bW9kZWx8Z2VuZXJhdGVkXFxzK3F1YW50aXRpZXMpXFxiIixlOmhsanMuSU1NRURJQVRFX1JFLHI6NX1dfX07aGxqcy5MQU5HVUFHRVMueG1sPWZ1bmN0aW9uKCl7dmFyIGI9IltBLVphLXowLTlcXC5fOi1dKyI7dmFyIGE9e2VXOnRydWUsYzpbe2NOOiJhdHRyaWJ1dGUiLGI6YixyOjB9LHtiOic9IicsckI6dHJ1ZSxlOiciJyxjOlt7Y046InZhbHVlIixiOiciJyxlVzp0cnVlfV19LHtiOiI9JyIsckI6dHJ1ZSxlOiInIixjOlt7Y046InZhbHVlIixiOiInIixlVzp0cnVlfV19LHtiOiI9IixjOlt7Y046InZhbHVlIixiOiJbXlxccy8+XSsifV19XX07cmV0dXJue2NJOnRydWUsZE06e2M6W3tjTjoicGkiLGI6IjxcXD8iLGU6IlxcPz4iLHI6MTB9LHtjTjoiZG9jdHlwZSIsYjoiPCFET0NUWVBFIixlOiI+IixyOjEwLGM6W3tiOiJcXFsiLGU6IlxcXSJ9XX0se2NOOiJjb21tZW50IixiOiI8IS0tIixlOiItLT4iLHI6MTB9LHtjTjoiY2RhdGEiLGI6IjxcXCFcXFtDREFUQVxcWyIsZToiXFxdXFxdPiIscjoxMH0se2NOOiJ0YWciLGI6IjxzdHlsZSg/PVxcc3w+fCQpIixlOiI+IixrOnt0aXRsZTp7c3R5bGU6MX19LGM6W2FdLHN0YXJ0czp7Y046ImNzcyIsZToiPC9zdHlsZT4iLHJFOnRydWUsc0w6ImNzcyJ9fSx7Y046InRhZyIsYjoiPHNjcmlwdCg/PVxcc3w+fCQpIixlOiI+IixrOnt0aXRsZTp7c2NyaXB0OjF9fSxjOlthXSxzdGFydHM6e2NOOiJqYXZhc2NyaXB0IixlOiI8XC9zY3JpcHQ+IixyRTp0cnVlLHNMOiJqYXZhc2NyaXB0In19LHtjTjoidmJzY3JpcHQiLGI6IjwlIixlOiIlPiIsc0w6InZic2NyaXB0In0se2NOOiJ0YWciLGI6IjwvPyIsZToiLz8+IixjOlt7Y046InRpdGxlIixiOiJbXiAvPl0rIn0sYV19XX19fSgpOwpobGpzLmluaXRIaWdobGlnaHRpbmdPbkxvYWQoKTsKCg=="></script>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>




<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%200%20auto%3B%0Amax%2Dwidth%3A%20800px%3B%0Afloat%3A%20center%3B%0Amargin%2Dleft%3A%20auto%3B%0Amargin%2Dright%3A%20auto%3B%0Aoverflow%3A%20visible%3B%0A%7D%0Abody%20%23header%20%7B%0Aclear%3A%20both%3B%0Amargin%2Dbottom%3A%208px%3B%0Aborder%2Dbottom%3A%202px%20solid%20%23999%3B%0Afont%2Dsize%3A%2020px%3B%0Apadding%3A%202px%2010px%202px%2025px%3B%0A%7D%0Abody%20%23content%20%7B%0Abackground%2Dcolor%3A%20white%3B%0Aclear%3A%20both%3B%0Afloat%3A%20left%3B%0Aoverflow%3A%20visible%3B%0Apadding%3A%2010px%3B%0Aborder%3A%201px%20solid%20%23BBBBBB%3B%0Aborder%2Dradius%3A%205px%3B%0Awidth%3A%20780px%3B%0A%7D%0Abody%20%23footer%20%7B%0Abackground%2Dcolor%3A%20%2399BBDD%3B%0Aclear%3A%20both%3B%0Afloat%3A%20left%3B%0Amargin%3A%208px%200%3B%0Aborder%3A%201px%20solid%20%236688AA%3B%0Aborder%2Dradius%3A%205px%3B%0Apadding%3A%200%2010px%3B%0Awidth%3A%20780px%3B%0A%7D%0Abody%20%2Eclear%20%7B%0Aclear%3A%20both%3B%0Aborder%2Dwidth%3A%200%3B%0Amargin%3A%200%3B%0Avisibility%3A%20hidden%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%2Dleft%3A%2025px%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dspacing%3A%200px%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcolor%3A%20gray%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Abackground%2Dcolor%3A%20white%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Abackground%2Dcolor%3A%20white%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%202px%205px%3B%0A%7D%0Ap%20%7B%0Amargin%2Dleft%3A%2015px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%2013px%3B%0Apadding%2Dbottom%3A%201px%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Acolor%3A%20%23000%3B%0Apadding%3A%200px%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Acolor%3A%20%23333%3B%0Aborder%3A%201px%20solid%20%23ddd%3B%0Aborder%2Dradius%3A%203px%3B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%0Afont%2Dsize%3A%2080%25%3B%0Apadding%3A%200px%202px%3B%0A%7D%0A%0Apre%20%7B%0Afont%2Dsize%3A%2012px%3B%0Aline%2Dheight%3A%2016px%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%2Er%20%7B%0Abackground%2Dcolor%3A%20%23F3F5F7%3B%0Apadding%3A%204px%2010px%3B%0Aborder%3A%201px%20solid%20%23AEBDCC%3B%0Aborder%2Dradius%3A%205px%3B%0Amargin%3A%205px%205px%2010px%2020px%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Abox%2Dshadow%3A%202px%202px%2012px%20%2D5px%20%23999999%3B%0Amargin%3A%200%205px%3B%0A%7D%0Abody%20%7B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2015px%3B%0Aline%2Dheight%3A%2022px%3B%0A%7D%0Abody%20%23header%20%7B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23ccc%3B%0Awidth%3A%2085%25%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%2022px%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23ccc%3B%0Awidth%3A%2075%25%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%2018px%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Awidth%3A%2060%25%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%2016px%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Awidth%3A%2060%25%3B%0Amargin%2Dleft%3A%2015px%3B%0Afont%2Dsize%3A%2016px%3B%0A%7D%0Ah4%2Eauthor%20%7B%0Aborder%2Dbottom%3A%20none%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Apre%20%2Eoperator%2C%0Apre%20%2Eparen%20%7B%0Acolor%3A%20%23888%3B%0A%7D%0Apre%20%2Eliteral%20%7B%0Acolor%3A%20%23990073%3B%0A%7D%0Apre%20%2Enumber%20%7B%0Acolor%3A%20%230080C0%3B%0A%7D%0Apre%20%2Ecomment%20%7B%0Acolor%3A%20%23008000%3B%0Afont%2Dstyle%3A%20italic%0A%7D%0Apre%20%2Ekeyword%20%7B%0Acolor%3A%20%23900%3B%0Afont%2Dweight%3A%20bold%0A%7D%0Apre%20%2Eidentifier%20%7B%0Acolor%3A%20%23000%3B%0A%7D%0Apre%20%2Estring%20%7B%0Acolor%3A%20%23b44%3B%0A%7D%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">R6 and Reference class performance tests</h1>


<div id="TOC">
<ul>
<li><a href="#class-definitions">Class definitions</a><ul>
<li><a href="#r-reference-class">R reference class</a></li>
<li><a href="#r6-class">R6 class</a></li>
<li><a href="#r6-class-without-class-attribute">R6 class, without class attribute</a></li>
<li><a href="#r6-class-non-portable">R6 class, non-portable</a></li>
<li><a href="#r6-class-with-cloneablefalse">R6 class, with <code>cloneable=FALSE</code></a></li>
<li><a href="#r6-class-without-class-attribute-non-portable-and-non-cloneable">R6 class, without class attribute, non-portable, and non-cloneable</a></li>
<li><a href="#r6-class-with-public-and-private-members">R6 class, with public and private members</a></li>
<li><a href="#r6-class-with-public-and-private-no-class-attribute-non-portable-and-non-cloneable">R6 class, with public and private, no class attribute, non-portable, and non-cloneable</a></li>
<li><a href="#environment-created-by-a-function-call-with-class-attribute">Environment created by a function call, with class attribute</a></li>
<li><a href="#environment-created-by-a-function-call-without-class-attribute">Environment created by a function call, without class attribute</a></li>
</ul></li>
<li><a href="#tests">Tests</a><ul>
<li><a href="#memory-footprint">Memory footprint</a></li>
<li><a href="#object-instantiation-speed">Object instantiation speed</a></li>
<li><a href="#field-access-speed">Field access speed</a></li>
<li><a href="#field-setting-speed">Field setting speed</a></li>
<li><a href="#speed-of-method-call-that-accesses-a-field">Speed of method call that accesses a field</a></li>
<li><a href="#assignment-using-selfx---vs.-x--">Assignment using <code>self$x &lt;-</code> vs. <code>x &lt;&lt;-</code></a></li>
<li><a href="#overhead-from-using-on-objects-with-a-class-attribute">Overhead from using <code>$</code> on objects with a class attribute</a></li>
<li><a href="#lists-vs.environments-and-vs.">Lists vs.environments, and <code>$</code> vs. <code>[[</code></a></li>
</ul></li>
<li><a href="#wrap-up">Wrap-up</a></li>
<li><a href="#appendix">Appendix</a><ul>
<li><a href="#functions-for-calculating-object-sizes">Functions for calculating object sizes</a></li>
<li><a href="#system-information">System information</a></li>
</ul></li>
</ul>
</div>

<p>This document compares the memory costs and speed of Rs reference classes against R6 classes and simple environments. For must uses, R6 and reference classes have comparable features, but as well see, R6 classes are faster and lighter weight.</p>
<p>This document tests reference classes against R6 classes (in many variations), as well as against very simple reference objects: environments created by functino calls.</p>
<hr />
<p>First well load some packages which will be used below:</p>
<pre class="r"><code>library(microbenchmark)
options(microbenchmark.unit = &quot;us&quot;)
library(pryr)  # For object_size function
library(R6)</code></pre>
<hr />
<div id="class-definitions" class="section level1">
<h1>Class definitions</h1>
<p>Well start by defining a number of classes or class-like entities, using reference classes, R6 classes, and simple environments that are created directly by functions. There are a number of options for R6 that can affect the size of the resulting objects, so we will use a number of variants. These classes will be used for the speed and memory tests that follow. This is a lot of boring code, so you may want to skip ahead to the results.</p>
<p>All of these classes have the same basic characteristics:</p>
<ul>
<li>A field named <code>x</code> that contains a number.</li>
<li>An way of initializing the value of <code>x</code>.</li>
<li>A method named <code>getx</code> for retrieving the value of <code>x</code>.</li>
<li>A method named <code>inc</code> for incrementing the value of <code>x</code>.</li>
</ul>
<p>The fields and methods are accessed with the <code>$</code> operator, so if we have an object named <code>obj</code>, we could use <code>obj$x</code> or <code>obj$getx()</code>.</p>
<div id="r-reference-class" class="section level2">
<h2>R reference class</h2>
<pre class="r"><code>RC &lt;- setRefClass(&quot;RC&quot;,
  fields = list(x = &quot;numeric&quot;),
  methods = list(
    initialize = function(x = 1) .self$x &lt;- x,
    getx = function() x,
    inc = function(n = 1) x &lt;&lt;- x + n
  )
)</code></pre>
<p>In reference classes, the binding that points back to the object is named <code>.self</code>. Within a method, assignment can be done by using <code>.self</code>, as in <code>.self$x &lt;- 10</code>, or by using <code>&lt;&lt;-</code>, as in <code>x &lt;&lt;- 10</code>.</p>
<p>To create an object, simply call <code>$new()</code> on the class:</p>
<pre class="r"><code>RC$new()
#&gt; Reference class object of class &quot;RC&quot;
#&gt; Field &quot;x&quot;:
#&gt; [1] 1</code></pre>
</div>
<div id="r6-class" class="section level2">
<h2>R6 class</h2>
<p>Creating an R6 class is similar to the reference class, except that theres no need to separate the fields and methods, and you cant specify the types of the fields.</p>
<pre class="r"><code>R6 &lt;- R6Class(&quot;R6&quot;,
  public = list(
    x = NULL,
    initialize = function(x = 1) self$x &lt;- x,
    getx = function() self$x,
    inc = function(n = 1) self$x &lt;- x + n
  )
)</code></pre>
<p>Whereas reference classes use <code>.self</code>, R6 classes use <code>self</code> (without the leading period). As with reference classes, objects are instantiated by calling <code>$new()</code>:</p>
<pre class="r"><code>R6$new()
#&gt; &lt;R6&gt;
#&gt;   Public:
#&gt;     clone: function (deep = FALSE) 
#&gt;     getx: function () 
#&gt;     inc: function (n = 1) 
#&gt;     initialize: function (x = 1) 
#&gt;     x: 1</code></pre>
<p>An R6 object essentially just a set of environments structured in a particular way. The fields and methods for an R6 object have bindings (that is, they have names) in the <em>public environment</em>. There is also have a separate environment which is the <em>enclosing environment</em> for methods (they run in an environment that contains a binding named <code>self</code>, which is simply a reference to the public environment).</p>
</div>
<div id="r6-class-without-class-attribute" class="section level2">
<h2>R6 class, without class attribute</h2>
<p>By default, a class attribute is added to R6 objects. This attribute adds a slight performance penalty because R will attempt to use S3 dispatch when using <code>$</code> on the object.</p>
<p>Its possible generate objects without the class attribute, by using <code>class=FALSE</code>:</p>
<pre class="r"><code>R6NoClass &lt;- R6Class(&quot;R6NoClass&quot;,
  class = FALSE,
  public = list(
    x = NULL,
    initialize = function(x = 1) self$x &lt;- x,
    getx = function() self$x,
    inc = function(n = 1) self$x &lt;- self$x + n
  )
)</code></pre>
<p>Note that without the class attribute, S3 method dispatch on the objects is not possible.</p>
</div>
<div id="r6-class-non-portable" class="section level2">
<h2>R6 class, non-portable</h2>
<p>By default, R6 objects are <em>portable</em>. This means that inheritance can be in classes that are in different packages. However, it also requires the use of <code>self$</code> and <code>private$</code> to access members, and this incurs a small performance penalty.</p>
<p>If <code>portable=FALSE</code> is used, members can be accessed without using <code>self$</code>, and assignment can be done with <code>&lt;&lt;-</code>:</p>
<pre class="r"><code>R6NonPortable &lt;- R6Class(&quot;R6NonPortable&quot;,
  portable = FALSE,
  public = list(
    x = NULL,
    initialize = function(value = 1) x &lt;&lt;- value,
    getx = function() x,
    inc = function(n = 1) x &lt;&lt;- x + n
  )
)</code></pre>
</div>
<div id="r6-class-with-cloneablefalse" class="section level2">
<h2>R6 class, with <code>cloneable=FALSE</code></h2>
<p>By default, R6 objects have a <code>clone()</code> method, which is a fairly large function. If you do not need this feature, you can save some memory by using <code>cloneable=FALSE</code>.</p>
<pre class="r"><code>R6NonCloneable &lt;- R6Class(&quot;R6NonCloneable&quot;,
  cloneable = FALSE,
  public = list(
    x = NULL,
    initialize = function(x = 1) self$x &lt;- x,
    getx = function() self$x,
    inc = function(n = 1) self$x &lt;- self$x + n
  )
)</code></pre>
</div>
<div id="r6-class-without-class-attribute-non-portable-and-non-cloneable" class="section level2">
<h2>R6 class, without class attribute, non-portable, and non-cloneable</h2>
<p>For comparison, well use a an R6 class that is without a class attribute, non-portable, and non-cloneable. This is the most stripped-down we can make an R6 object.</p>
<pre class="r"><code>R6Bare &lt;- R6Class(&quot;R6Bare&quot;,
  portable = FALSE,
  class = FALSE,
  cloneable = FALSE,
  public = list(
    x = NULL,
    initialize = function(value = 1) x &lt;&lt;- value,
    getx = function() x,
    inc = function(n = 1) x &lt;&lt;- x + n
  )
)</code></pre>
</div>
<div id="r6-class-with-public-and-private-members" class="section level2">
<h2>R6 class, with public and private members</h2>
<p>This variant has public and private members.</p>
<pre class="r"><code>R6Private &lt;- R6Class(&quot;R6Private&quot;,
  private = list(x = NULL),
  public = list(
    initialize = function(x = 1) private$x &lt;- x,
    getx = function() private$x,
    inc = function(n = 1) private$x &lt;- private$x + n
  )
)</code></pre>
<p>Instead of a single <code>self</code> object which refers to all items in an object, these objects have <code>self</code> (which refers to the public items) and <code>private</code>.</p>
<pre class="r"><code>R6Private$new()
#&gt; &lt;R6Private&gt;
#&gt;   Public:
#&gt;     clone: function (deep = FALSE) 
#&gt;     getx: function () 
#&gt;     inc: function (n = 1) 
#&gt;     initialize: function (x = 1) 
#&gt;   Private:
#&gt;     x: 1</code></pre>
</div>
<div id="r6-class-with-public-and-private-no-class-attribute-non-portable-and-non-cloneable" class="section level2">
<h2>R6 class, with public and private, no class attribute, non-portable, and non-cloneable</h2>
<p>For comparison, well add a version that is without a class attribute, non-portable, and non-cloneable.</p>
<pre class="r"><code>R6PrivateBare &lt;- R6Class(&quot;R6PrivateBare&quot;,
  portable = FALSE,
  class = FALSE,
  cloneable = FALSE,
  private = list(x = NULL),
  public = list(
    initialize = function(x = 1) private$x &lt;- x,
    getx = function() x,
    inc = function(n = 1) x &lt;&lt;- x + n
  )
)</code></pre>
</div>
<div id="environment-created-by-a-function-call-with-class-attribute" class="section level2">
<h2>Environment created by a function call, with class attribute</h2>
<p>In R, environments are passed by reference. A simple way to create an object thats passed by reference is to use the environment created by the invocation of a function. The function below captures that environment, attaches a class to it, and returns it:</p>
<pre class="r"><code>FunctionEnvClass &lt;- function(x = 1) {
  inc &lt;- function(n = 1) x &lt;&lt;- x + n
  getx &lt;- function() x
  self &lt;- environment()
  class(self) &lt;- &quot;FunctionEnvClass&quot;
  self
}</code></pre>
<p>Even though <code>x</code> isnt declared in the function body, it gets captured because its an argument to the function.</p>
<pre class="r"><code>ls(FunctionEnvClass())
#&gt; [1] &quot;getx&quot; &quot;inc&quot;  &quot;self&quot; &quot;x&quot;</code></pre>
<p>Objects created this way are very similar to those created by <code>R6</code> generator we created above.</p>
</div>
<div id="environment-created-by-a-function-call-without-class-attribute" class="section level2">
<h2>Environment created by a function call, without class attribute</h2>
<p>We can make an even simpler type of reference object to the previous one, by not having a a class attribute, and not having <code>self</code> object:</p>
<pre class="r"><code>FunctionEnvNoClass &lt;- function(x = 1) {
  inc &lt;- function(n = 1) x &lt;&lt;- x + n
  getx &lt;- function() x
  environment()
}</code></pre>
<p>This is simply an environment with some objects in it.</p>
<pre class="r"><code>ls(FunctionEnvNoClass())
#&gt; [1] &quot;getx&quot; &quot;inc&quot;  &quot;x&quot;</code></pre>
<hr />
</div>
</div>
<div id="tests" class="section level1">
<h1>Tests</h1>
<p>For all the timings using <code>microbenchmark()</code>, the results are reported in microseconds, and the most useful value is probably the median column.</p>
<div id="memory-footprint" class="section level2">
<h2>Memory footprint</h2>
<p>How much memory does a single instance of each object take, and how much memory does each additional object take? Well use the functions <code>obj_size</code> and <code>obj_sizes</code> (shown at the bottom of this document) to calculate the sizes.</p>
<p>Sizes of each type of object, in bytes:</p>
<pre class="r"><code>sizes &lt;- obj_sizes(
  RC$new(),
  R6$new(),
  R6NoClass$new(),
  R6NonPortable$new(),
  R6NonCloneable$new(),
  R6Bare$new(),
  R6Private$new(),
  R6PrivateBare$new(),
  FunctionEnvClass(),
  FunctionEnvNoClass()
)
sizes
#&gt;                         one incremental
#&gt; RC$new()             461184        1368
#&gt; R6$new()              56576        1008
#&gt; R6NoClass$new()       57280         896
#&gt; R6NonPortable$new()   56168         952
#&gt; R6NonCloneable$new()  13624         896
#&gt; R6Bare$new()          12816         728
#&gt; R6Private$new()       57480        1120
#&gt; R6PrivateBare$new()   13824         840
#&gt; FunctionEnvClass()    10712         624
#&gt; FunctionEnvNoClass()   9288         512</code></pre>
<p>The results are plotted below. Note that the plots have very different x scales.</p>
<p><img src="data:image/png;base64,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" /><!-- --><img src="data:image/png;base64,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" /><!-- --></p>
<p>Some preliminary observations about the first instance of various classes: Using a reference class consumes a large amount of memory. For R6 objects, the option with the largest impact is <code>cloneable</code>: not having the <code>clone()</code> method saves around 40 kB of memory.</p>
<p>For subsequent instances of these classes, there isnt nearly as much difference between the different kinds.</p>
<p>It appeared that using a reference class takes up a huge amount of memory, but much of that is shared between reference classes. Adding an object from a different reference class doesnt require much more memory  around 38KB:</p>
<pre class="r"><code>RC2 &lt;- setRefClass(&quot;RC2&quot;,
  fields = list(x = &quot;numeric&quot;),
  methods = list(
    initialize = function(x = 2) .self$x &lt;&lt;- x,
    inc = function(n = 2) x &lt;&lt;- x * n
  )
)

# Calcualte the size of a new RC2 object, over and above an RC object
as.numeric(object_size(RC$new(), RC2$new()) - object_size(RC$new()))
#&gt; [1] 37176</code></pre>
</div>
<div id="object-instantiation-speed" class="section level2">
<h2>Object instantiation speed</h2>
<p>How much time does it take to create one of these objects? This shows the median time, in microseconds:</p>
<pre class="r"><code># Function to extract the medians from microbenchmark results
mb_summary &lt;- function(x) {
  res &lt;- summary(x, unit=&quot;us&quot;)
  data.frame(name = res$expr, median = res$median)
}

speed &lt;- microbenchmark(
  RC$new(),
  R6$new(),
  R6NoClass$new(),
  R6NonPortable$new(),
  R6NonCloneable$new(),
  R6Bare$new(),
  R6Private$new(),
  R6PrivateBare$new(),
  FunctionEnvClass(),
  FunctionEnvNoClass()
)
speed &lt;- mb_summary(speed)
speed
#&gt;                    name   median
#&gt; 1              RC$new() 328.4090
#&gt; 2              R6$new()  58.1415
#&gt; 3       R6NoClass$new()  50.9020
#&gt; 4   R6NonPortable$new()  57.7985
#&gt; 5  R6NonCloneable$new()  58.8320
#&gt; 6          R6Bare$new()  48.1420
#&gt; 7       R6Private$new()  76.7835
#&gt; 8   R6PrivateBare$new()  64.5915
#&gt; 9    FunctionEnvClass()   3.6670
#&gt; 10 FunctionEnvNoClass()   2.1340</code></pre>
<p>The plot below shows the median instantiation time.</p>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Reference classes are much slower to instantiate than the other types of classes. Instantiating R6 objects is roughly 5 times faster. Creating an environment with a simple function call is another 20-30 times faster.</p>
</div>
<div id="field-access-speed" class="section level2">
<h2>Field access speed</h2>
<p>How much time does it take to access a field in an object? First well make some objects:</p>
<pre class="r"><code>rc           &lt;- RC$new()
r6           &lt;- R6$new()
r6noclass    &lt;- R6NoClass$new()
r6noport     &lt;- R6NonPortable$new()
r6noclone    &lt;- R6NonCloneable$new()
r6bare       &lt;- R6Bare$new()
r6priv       &lt;- R6Private$new()
r6priv_bare  &lt;- R6PrivateBare$new()
fun_env      &lt;- FunctionEnvClass()
fun_env_nc   &lt;- FunctionEnvNoClass()</code></pre>
<p>And then get a value from these objects:</p>
<pre class="r"><code>speed &lt;- microbenchmark(
  rc$x,
  r6$x,
  r6noclass$x,
  r6noport$x,
  r6noclone$x,
  r6bare$x,
  r6priv$x,
  r6priv_bare$x,
  fun_env$x,
  fun_env_nc$x
)
speed &lt;- mb_summary(speed)
speed
#&gt;             name median
#&gt; 1           rc$x 7.6640
#&gt; 2           r6$x 1.2490
#&gt; 3    r6noclass$x 0.2495
#&gt; 4     r6noport$x 1.3430
#&gt; 5    r6noclone$x 1.3705
#&gt; 6       r6bare$x 0.2525
#&gt; 7       r6priv$x 1.3485
#&gt; 8  r6priv_bare$x 0.2795
#&gt; 9      fun_env$x 1.1370
#&gt; 10  fun_env_nc$x 0.2895</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Accessing the field of a reference class is much slower than the other methods.</p>
<p>Theres also an obvious pattern where accessing the field of an environment (created by R6 or a function call) is slower when there is a class attribute. This is because, for the objects that have a class attribute, R attempts to look up an S3 method for <code>$</code>, and this lookup has a performance penalty. Well see more about this below.</p>
</div>
<div id="field-setting-speed" class="section level2">
<h2>Field setting speed</h2>
<p>How much time does it take to set the value of a field in an object?</p>
<pre class="r"><code>speed &lt;- microbenchmark(
  rc$x &lt;- 4,
  r6$x &lt;- 4,
  r6noclass$x &lt;- 4,
  r6noport$x &lt;- 4,
  r6noclone$x &lt;- 4,
  r6bare$x &lt;- 4,
  # r6priv$x &lt;- 4,         # Can't set private field directly,
  # r6priv_nc_np$x &lt;- 4,   # so we'll skip these two
  fun_env$x &lt;- 4,
  fun_env_nc$x &lt;- 4
)
speed &lt;- mb_summary(speed)
speed
#&gt;                name  median
#&gt; 1         rc$x &lt;- 4 40.8240
#&gt; 2         r6$x &lt;- 4  1.9075
#&gt; 3  r6noclass$x &lt;- 4  0.8160
#&gt; 4   r6noport$x &lt;- 4  2.0770
#&gt; 5  r6noclone$x &lt;- 4  2.0415
#&gt; 6     r6bare$x &lt;- 4  0.8190
#&gt; 7    fun_env$x &lt;- 4  1.8265
#&gt; 8 fun_env_nc$x &lt;- 4  0.8385</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Reference classes are significantly slower than the others, again. In this case, theres additional overhead due to type-checking the value.</p>
<p>Once more, the no-class objects are significantly faster than the others, again probably due to attempted S3 dispatch on the <code>`$&lt;-`</code> function.</p>
</div>
<div id="speed-of-method-call-that-accesses-a-field" class="section level2">
<h2>Speed of method call that accesses a field</h2>
<p>How much overhead is there when calling a method from one of these objects? All of these <code>getx()</code> methods simply return the value of <code>x</code> in the object. When necessary, this method uses <code>self$x</code> (for R6 classes, when <code>portable=TRUE</code>), and in others, it just uses <code>x</code> (when <code>portable=FALSE</code>, and in reference classes).</p>
<pre class="r"><code>speed &lt;- microbenchmark(
  rc$getx(),
  r6$getx(),
  r6noclass$getx(),
  r6noport$getx(),
  r6noclone$getx(),
  r6bare$getx(),
  r6priv$getx(),
  r6priv_bare$getx(),
  fun_env$getx(),
  fun_env_nc$getx()
)
speed &lt;- mb_summary(speed)
speed
#&gt;                  name median
#&gt; 1           rc$getx() 8.7060
#&gt; 2           r6$getx() 2.9310
#&gt; 3    r6noclass$getx() 0.6780
#&gt; 4     r6noport$getx() 1.7770
#&gt; 5    r6noclone$getx() 3.1350
#&gt; 6       r6bare$getx() 0.4960
#&gt; 7       r6priv$getx() 1.8775
#&gt; 8  r6priv_bare$getx() 0.5010
#&gt; 9      fun_env$getx() 1.4775
#&gt; 10  fun_env_nc$getx() 0.4800</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>The reference class is the slowest.</p>
<p><code>r6</code> is also somewhat slower than the others. There are two reasons for this: first, it uses <code>self$x</code> which adds some time, and second, it has a class attribute, which slows down the access of both <code>r6$getx</code> and <code>self$x</code>.</p>
<p>One might expect <code>r6priv</code> to be the same speed as <code>r6</code>, but it is faster. Although accessing <code>r6priv$getx</code> is slow because <code>r6priv</code> has a class attribute, accessing <code>private$x</code> is faster because it does not have a class attribute.</p>
<p>The objects which can access <code>x</code> directly (without <code>self</code> or <code>private</code>) and which lack a class attribute are the fastest.</p>
</div>
<div id="assignment-using-selfx---vs.-x--" class="section level2">
<h2>Assignment using <code>self$x &lt;-</code> vs. <code>x &lt;&lt;-</code></h2>
<p>With reference classes, you can modify fields using the <code>&lt;&lt;-</code> operator, or by using the <code>.self</code> object. For example, compare the <code>setx()</code> methods of these two classes:</p>
<pre class="r"><code>RCself &lt;- setRefClass(&quot;RCself&quot;,
  fields = list(x = &quot;numeric&quot;),
  methods = list(
    initialize = function() .self$x &lt;- 1,
    setx = function(n = 2) .self$x &lt;- n
  )
)

RCnoself &lt;- setRefClass(&quot;RCnoself&quot;,
  fields = list(x = &quot;numeric&quot;),
  methods = list(
    initialize = function() x &lt;&lt;- 1,
    setx = function(n = 2) x &lt;&lt;- n
  )
)</code></pre>
<p>Non-portable R6 classes are similar, except they use <code>self</code> instead of <code>.self</code>.</p>
<pre class="r"><code>R6self &lt;- R6Class(&quot;R6self&quot;,
  portable = FALSE,
  public = list(
    x = 1,
    setx = function(n = 2) self$x &lt;- n
  )
)

R6noself &lt;- R6Class(&quot;R6noself&quot;,
  portable = FALSE,
  public = list(
    x = 1,
    setx = function(n = 2) x &lt;&lt;- n
  )
)</code></pre>
<pre class="r"><code>rc_self   &lt;- RCself$new()
rc_noself &lt;- RCnoself$new()
r6_self   &lt;- R6self$new()
r6_noself &lt;- R6noself$new()

speed &lt;- microbenchmark(
  rc_self$setx(),
  rc_noself$setx(),
  r6_self$setx(),
  r6_noself$setx()
)
speed &lt;- mb_summary(speed)
speed
#&gt;               name  median
#&gt; 1   rc_self$setx() 58.0985
#&gt; 2 rc_noself$setx() 31.7260
#&gt; 3   r6_self$setx()  5.1205
#&gt; 4 r6_noself$setx()  2.6275</code></pre>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>For both reference and non-portable R6 classes, assignment using <code>.self$x &lt;-</code> is somewhat slower than using <code>x &lt;&lt;-</code>.</p>
<p>Bear in mind that, by default, R6 classes are portable, and cant use assignment with <code>x &lt;&lt;-</code>.</p>
</div>
<div id="overhead-from-using-on-objects-with-a-class-attribute" class="section level2">
<h2>Overhead from using <code>$</code> on objects with a class attribute</h2>
<p>There is some overhead when using <code>$</code> on an object that has a class attribute. In the test below, well create three different kinds of objects:</p>
<ol style="list-style-type: decimal">
<li>An environment with no class attribute.</li>
<li>An environment with a class <code>&quot;e2&quot;</code>, but without a <code>$.e2</code> S3 method.</li>
<li>An environment with a class <code>&quot;e3&quot;</code>, which has a <code>$.e3</code> S3 method that simply returns <code>NULL</code>.</li>
</ol>
<p>Each one of these environments will contain an object <code>x</code>.</p>
<pre class="r"><code>e1 &lt;- new.env(hash = FALSE, parent = emptyenv())
e2 &lt;- new.env(hash = FALSE, parent = emptyenv())
e3 &lt;- new.env(hash = FALSE, parent = emptyenv())

e1$x &lt;- 1
e2$x &lt;- 1
e3$x &lt;- 1

class(e2) &lt;- &quot;e2&quot;
class(e3) &lt;- &quot;e3&quot;

# Define an S3 method for class e3
`$.e3` &lt;- function(x, name) {
  NULL
}</code></pre>
<p>Now we can run timing tests for calling <code>$</code> on each type of object. Note that for the <code>e3</code> object, the <code>$</code> function does nothing  it simply returns <code>NULL</code>.</p>
<pre class="r"><code>speed &lt;- microbenchmark(
  e1$x,
  e2$x,
  e3$x
)
speed &lt;- mb_summary(speed)
speed
#&gt;   name median
#&gt; 1 e1$x 0.2295
#&gt; 2 e2$x 1.0405
#&gt; 3 e3$x 1.0460</code></pre>
<p>Using <code>$</code> on <code>e2</code> and <code>e3</code> is much slower than on <code>e1</code>. This is because <code>e2</code> and <code>e3</code> have a class attribute. Even though theres no <code>$</code> method defined for <code>e2</code>, doing <code>e2$x</code> still about 6 times slower than <code>e1$x</code>, simply because R looks for an appropriate S3 method.</p>
<p><code>e3$x</code> is slightly faster than <code>e2$x</code>; this is probably because the <code>$.e3</code> function doesnt actually do anything other than return NULL.</p>
<p>If an object has a class attribute, R will attempt to look for a method every time <code>$</code> is called. This can slow things down considerably, if <code>$</code> is used often.</p>
</div>
<div id="lists-vs.environments-and-vs." class="section level2">
<h2>Lists vs.environments, and <code>$</code> vs. <code>[[</code></h2>
<p>Lists could also be used for creating classes (albeit not with reference semantics). How much time does it take to access items using <code>$</code> for lists vs.environments? Well also compare using <code>obj$x</code> to <code>obj[['x']]</code>.</p>
<pre class="r"><code>lst &lt;- list(x = 10)
env &lt;- new.env()
env$x &lt;- 10

mb_summary(microbenchmark(
  lst = lst$x,
  env = env$x,
  lst[['x']],
  env[['x']]
))
#&gt;         name median
#&gt; 1        lst  0.219
#&gt; 2        env  0.226
#&gt; 3 lst[[&quot;x&quot;]]  0.200
#&gt; 4 env[[&quot;x&quot;]]  0.186</code></pre>
<p>Performance is comparable across environments and lists.</p>
<p>The <code>[[</code> operator is slightly faster than <code>$</code>, probably because it doesnt need to convert the unevaluated symbol to a string.</p>
<hr />
</div>
</div>
<div id="wrap-up" class="section level1">
<h1>Wrap-up</h1>
<p>R6 objects take less memory and are significantly faster than Rs reference class objects, and they also have some options that provide for even more speed.</p>
<p>In these tests, the biggest speedup for R6 classes comes from not using a class attribute; this speeds up the use of <code>$</code>. Non-portable R6 classes can also access fields without <code>$</code> at all, which provides another modest speed boost. In most cases, these speed increases are negligible  they are on the order of microseconds and will be noticeable only when tens or even hundreds of thousands of class member accesses are performed.</p>
<hr />
</div>
<div id="appendix" class="section level1">
<h1>Appendix</h1>
<div id="functions-for-calculating-object-sizes" class="section level2">
<h2>Functions for calculating object sizes</h2>
<pre class="r"><code># Utility functions for calculating sizes
obj_size &lt;- function(expr, .env = parent.frame()) {
  size_n &lt;- function(n = 1) {
    objs &lt;- lapply(1:n, function(x) eval(expr, .env))
    as.numeric(do.call(object_size, objs))
  }

  data.frame(one = size_n(1), incremental = size_n(2) - size_n(1))
}

obj_sizes &lt;- function(..., .env = parent.frame()) {
  exprs &lt;- as.list(match.call(expand.dots = FALSE)$...)
  names(exprs) &lt;- lapply(1:length(exprs),
    FUN = function(n) {
      name &lt;- names(exprs)[n]
      if (is.null(name) || name == &quot;&quot;) paste(deparse(exprs[[n]]), collapse = &quot; &quot;)
      else name
    })

  sizes &lt;- mapply(obj_size, exprs, MoreArgs = list(.env = .env), SIMPLIFY = FALSE)
  do.call(rbind, sizes)
}</code></pre>
</div>
<div id="system-information" class="section level2">
<h2>System information</h2>
<pre class="r"><code>sessionInfo()
#&gt; R version 3.3.1 (2016-06-21)
#&gt; Platform: x86_64-pc-linux-gnu (64-bit)
#&gt; Running under: Ubuntu 16.04.1 LTS
#&gt; 
#&gt; locale:
#&gt;  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
#&gt;  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=C              
#&gt;  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
#&gt;  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
#&gt;  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
#&gt; [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       
#&gt; 
#&gt; attached base packages:
#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     
#&gt; 
#&gt; other attached packages:
#&gt; [1] scales_0.4.0           ggplot2_2.1.0          microbenchmark_1.4-2.1
#&gt; [4] R6_2.1.3               pryr_0.1.2            
#&gt; 
#&gt; loaded via a namespace (and not attached):
#&gt;  [1] Rcpp_0.12.6      codetools_0.2-14 digest_0.6.10    plyr_1.8.4      
#&gt;  [5] grid_3.3.1       gtable_0.2.0     formatR_1.4      magrittr_1.5    
#&gt;  [9] evaluate_0.9     stringi_1.1.1    rmarkdown_1.0    labeling_0.3    
#&gt; [13] tools_3.3.1      stringr_1.0.0    munsell_0.4.3    yaml_2.1.13     
#&gt; [17] colorspace_1.2-6 htmltools_0.3.5  knitr_1.14</code></pre>
</div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
